<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRTA Forms Dashboard - Mockup</title>
    <!-- PDFMake for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #f5f5f5;
            overflow: hidden;
        }

        .dashboard-container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: linear-gradient(180deg, #1e3a5f 0%, #2c5282 100%);
            color: white;
            box-shadow: 2px 0 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 24px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .sidebar-header h2 {
            font-size: 24px;
            font-weight: 600;
        }

        .sidebar-nav {
            flex: 1;
            padding: 20px 0;
            overflow-y: auto;
        }

        .nav-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .nav-item:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .nav-item.active {
            background-color: rgba(255,255,255,0.2);
            border-left: 4px solid #4ade80;
        }

        .nav-item svg {
            width: 20px;
            height: 20px;
        }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #4ade80;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .logout-btn {
            width: 100%;
            padding: 10px;
            background-color: rgba(255,255,255,0.1);
            border: none;
            color: white;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .logout-btn:hover {
            background-color: rgba(255,255,255,0.2);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Header */
        .header {
            background: white;
            padding: 16px 24px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 10;
        }

        .header-title {
            font-size: 24px;
            font-weight: 600;
            color: #1e293b;
        }

        .header-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .search-box {
            padding: 8px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 14px;
            width: 300px;
        }

        .btn-primary {
            padding: 8px 16px;
            background-color: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .btn-primary:hover {
            background-color: #2563eb;
        }

        /* Table Container */
        .table-container {
            flex: 1;
            background: white;
            margin: 24px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .table-header {
            padding: 16px 24px;
            border-bottom: 2px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-title {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
        }

        .table-controls {
            display: flex;
            gap: 8px;
        }

        .btn-icon {
            padding: 6px 12px;
            background-color: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
        }

        .btn-icon:hover {
            background-color: #e2e8f0;
        }

        /* Excel-like Table */
        .table-wrapper {
            flex: 1;
            overflow: auto;
            position: relative;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        thead {
            position: sticky;
            top: 0;
            background-color: #f8fafc;
            z-index: 5;
        }

        th {
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            color: #475569;
            border-bottom: 2px solid #e2e8f0;
            border-right: 1px solid #e2e8f0;
            background-color: #f8fafc;
            white-space: nowrap;
            position: relative;
        }

        th:last-child {
            border-right: none;
        }

        th:hover {
            background-color: #f1f5f9;
        }

        .resize-handle {
            position: absolute;
            right: 0;
            top: 0;
            width: 4px;
            height: 100%;
            cursor: col-resize;
            background-color: transparent;
        }

        .resize-handle:hover {
            background-color: #3b82f6;
        }

        td {
            padding: 12px 16px;
            border-bottom: 1px solid #e2e8f0;
            border-right: 1px solid #e2e8f0;
            color: #475569;
        }

        td:last-child {
            border-right: none;
        }

        tbody tr {
            cursor: pointer;
            transition: background-color 0.15s;
        }

        tbody tr:hover {
            background-color: #f8fafc;
        }

        tbody tr.selected {
            background-color: #dbeafe;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-completed {
            background-color: #dcfce7;
            color: #166534;
        }

        .status-pending {
            background-color: #fef3c7;
            color: #92400e;
        }

        .status-draft {
            background-color: #e0e7ff;
            color: #3730a3;
        }

        .status-submitted {
            background-color: #dbeafe;
            color: #1e40af;
        }

        .status-reception {
            background-color: #fef3c7;
            color: #92400e;
        }

        .status-verification {
            background-color: #fce7f3;
            color: #9f1239;
        }

        .status-decision {
            background-color: #ddd6fe;
            color: #5b21b6;
        }

        .filter-group {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-bottom: 16px;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 14px;
            background-color: white;
            cursor: pointer;
        }

        .stats-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .stat-item {
            background: white;
            padding: 16px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .stat-label {
            font-size: 12px;
            color: #64748b;
            text-transform: uppercase;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
        }

        .action-btn {
            padding: 4px 8px;
            background-color: #3b82f6;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .action-btn:hover {
            background-color: #2563eb;
        }

        /* Scrollbar Styling */
        .table-wrapper::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        .table-wrapper::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        .table-wrapper::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 6px;
        }

        .table-wrapper::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Empty State */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
            color: #94a3b8;
        }

        .empty-state svg {
            width: 64px;
            height: 64px;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        /* Modal Styles */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .modal-overlay.active {
            display: flex;
            align-items: flex-start;
            justify-content: center;
        }

        .modal-container {
            background: white;
            border-radius: 12px;
            width: 100%;
            max-width: 1200px;
            margin: 20px auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            max-height: calc(100vh - 40px);
        }

        .modal-header {
            padding: 24px;
            border-bottom: 2px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px 12px 0 0;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
        }

        .modal-close {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }

        .modal-close:hover {
            background: rgba(255,255,255,0.3);
        }

        .modal-body {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }

        .form-section {
            margin-bottom: 32px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .form-field {
            display: flex;
            flex-direction: column;
        }

        .field-label {
            font-size: 12px;
            font-weight: 600;
            color: #64748b;
            text-transform: uppercase;
            margin-bottom: 6px;
            letter-spacing: 0.5px;
        }

        .field-value {
            font-size: 15px;
            color: #1e293b;
            padding: 10px 14px;
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            min-height: 40px;
            display: flex;
            align-items: center;
        }

        .form-grid-full {
            grid-column: 1 / -1;
        }

        .document-list {
            display: grid;
            gap: 12px;
        }

        .document-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
        }

        .document-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .document-icon {
            width: 40px;
            height: 40px;
            background-color: #3b82f6;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .document-details {
            display: flex;
            flex-direction: column;
        }

        .document-name {
            font-weight: 500;
            color: #1e293b;
        }

        .document-size {
            font-size: 12px;
            color: #64748b;
        }

        .btn-download {
            padding: 6px 12px;
            background-color: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
        }

        .btn-download:hover {
            background-color: #2563eb;
        }

        .workflow-timeline {
            position: relative;
            padding-left: 32px;
        }

        .timeline-line {
            position: absolute;
            left: 11px;
            top: 24px;
            bottom: 0;
            width: 2px;
            background-color: #e2e8f0;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 24px;
        }

        .timeline-dot {
            position: absolute;
            left: -32px;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: #e2e8f0;
            border: 3px solid white;
            box-shadow: 0 0 0 2px #e2e8f0;
        }

        .timeline-item.completed .timeline-dot {
            background-color: #10b981;
            box-shadow: 0 0 0 2px #10b981;
        }

        .timeline-item.active .timeline-dot {
            background-color: #3b82f6;
            box-shadow: 0 0 0 2px #3b82f6;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .timeline-content {
            background-color: #f8fafc;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .timeline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .timeline-stage {
            font-weight: 600;
            color: #1e293b;
        }

        .timeline-date {
            font-size: 12px;
            color: #64748b;
        }

        .timeline-user {
            font-size: 13px;
            color: #475569;
            margin-bottom: 4px;
        }

        .timeline-comment {
            font-size: 14px;
            color: #64748b;
            font-style: italic;
        }

        .modal-footer {
            padding: 20px 24px;
            border-top: 2px solid #e2e8f0;
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            background-color: #f8fafc;
            border-radius: 0 0 12px 12px;
        }

        .btn-secondary {
            padding: 10px 20px;
            background-color: white;
            color: #475569;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-secondary:hover {
            background-color: #f8fafc;
        }

        .btn-success {
            padding: 10px 20px;
            background-color: #10b981;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .btn-success:hover {
            background-color: #059669;
        }

        .btn-danger {
            padding: 10px 20px;
            background-color: #ef4444;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .btn-danger:hover {
            background-color: #dc2626;
        }

        .btn-warning {
            padding: 10px 20px;
            background-color: #f59e0b;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .btn-warning:hover {
            background-color: #d97706;
        }

        .status-banner {
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .status-banner.completed {
            background-color: #dcfce7;
            color: #166534;
        }

        .status-banner.verification {
            background-color: #fce7f3;
            color: #9f1239;
        }

        /* Wizard Tabs in Modal */
        .wizard-tabs {
            display: flex;
            gap: 8px;
            border-bottom: 2px solid #e2e8f0;
            padding: 0 24px;
            margin-bottom: 24px;
            overflow-x: auto;
        }

        .wizard-tab {
            padding: 12px 20px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: #64748b;
            white-space: nowrap;
            transition: all 0.2s;
            position: relative;
        }

        .wizard-tab:hover {
            color: #3b82f6;
            background-color: #f8fafc;
        }

        .wizard-tab.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
        }

        .wizard-tab-content {
            display: none;
        }

        .wizard-tab-content.active {
            display: block;
        }

        .wizard-tab-number {
            display: inline-block;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: #e2e8f0;
            color: #64748b;
            text-align: center;
            line-height: 24px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 8px;
        }

        .wizard-tab.active .wizard-tab-number {
            background-color: #3b82f6;
            color: white;
        }

        .wizard-tab.completed .wizard-tab-number {
            background-color: #10b981;
            color: white;
        }

        /* Roles & Permissions Styles */
        .page-section {
            display: none;
        }
        .page-section.active {
            display: block;
        }

        /* Make landing and registration pages scrollable */
        #landing-page.active,
        #registration-page.active {
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .roles-container {
            padding: 24px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .section-header h2 {
            font-size: 28px;
            font-weight: 600;
            color: #1e293b;
        }

        .tabs {
            display: flex;
            gap: 8px;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 24px;
        }

        .tab {
            padding: 12px 24px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-size: 15px;
            font-weight: 500;
            color: #64748b;
            transition: all 0.2s;
        }

        .tab:hover {
            color: #3b82f6;
            background-color: #f8fafc;
        }

        .tab.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
        }

        .roles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .role-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .role-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .role-name {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
        }

        .role-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            background-color: #f1f5f9;
            color: #475569;
        }

        .permissions-list {
            margin-bottom: 16px;
        }

        .permission-item {
            display: flex;
            align-items: center;
            padding: 8px 0;
            gap: 10px;
        }

        .permission-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .permission-label {
            font-size: 14px;
            color: #475569;
            cursor: pointer;
        }

        .permission-group {
            margin-bottom: 20px;
        }

        .permission-group-title {
            font-size: 13px;
            font-weight: 600;
            color: #64748b;
            text-transform: uppercase;
            margin-bottom: 12px;
            letter-spacing: 0.5px;
        }

        .users-count {
            font-size: 13px;
            color: #64748b;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #e2e8f0;
        }

        .role-actions {
            display: flex;
            gap: 8px;
            margin-top: 16px;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 13px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-edit {
            background-color: #3b82f6;
            color: white;
        }

        .btn-edit:hover {
            background-color: #2563eb;
        }

        .btn-delete {
            background-color: #ef4444;
            color: white;
        }

        .btn-delete:hover {
            background-color: #dc2626;
        }

        .users-table-container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        .user-role-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            margin-right: 6px;
            margin-bottom: 4px;
        }

        .badge-admin {
            background-color: #fef3c7;
            color: #92400e;
        }

        .badge-officer {
            background-color: #dbeafe;
            color: #1e40af;
        }

        .badge-verification {
            background-color: #fce7f3;
            color: #9f1239;
        }

        .badge-reception {
            background-color: #dcfce7;
            color: #166534;
        }

        .add-role-btn {
            padding: 10px 20px;
            background-color: #10b981;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .add-role-btn:hover {
            background-color: #059669;
        }

        .permissions-matrix {
            background: white;
            border-radius: 8px;
            padding: 24px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            overflow-x: auto;
        }

        .matrix-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }

        .matrix-table th {
            padding: 12px;
            text-align: left;
            background-color: #f8fafc;
            border-bottom: 2px solid #e2e8f0;
            font-weight: 600;
            color: #475569;
            position: sticky;
            top: 0;
        }

        .matrix-table td {
            padding: 12px;
            border-bottom: 1px solid #e2e8f0;
        }

        .matrix-check {
            text-align: center;
        }

        .check-icon {
            color: #10b981;
            font-weight: bold;
            font-size: 18px;
        }

        .cross-icon {
            color: #ef4444;
            font-weight: bold;
            font-size: 18px;
        }

        .tab-content {
            display: block;
        }

        /* Login Styles */
        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .login-overlay.hidden {
            display: none;
        }

        .login-container {
            background: white;
            border-radius: 12px;
            padding: 40px;
            width: 100%;
            max-width: 420px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .login-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .login-header h1 {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 8px;
        }

        .login-header p {
            color: #64748b;
            font-size: 14px;
        }

        .login-form-group {
            margin-bottom: 20px;
        }

        .login-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 8px;
        }

        .login-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 15px;
            transition: border-color 0.2s;
        }

        .login-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .login-btn {
            width: 100%;
            padding: 12px;
            background-color: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: 8px;
        }

        .login-btn:hover {
            background-color: #2563eb;
        }

        .user-role-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .role-option {
            padding: 16px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
            background: white;
        }

        .role-option:hover {
            border-color: #3b82f6;
            background-color: #f8fafc;
        }

        .role-option.selected {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }

        .role-option-name {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .role-option-desc {
            font-size: 12px;
            color: #64748b;
        }

        /* Landing Page Styles */
        .landing-hero {
            background: linear-gradient(135deg, #1e3a5f 0%, #2c5282 100%);
            color: white;
            padding: 80px 40px;
            text-align: center;
            margin: -40px -40px 60px -40px;
        }

        .landing-hero h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .landing-hero p {
            font-size: 20px;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 32px;
            margin: 60px 0;
        }

        .feature-card {
            background: white;
            padding: 32px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
        }

        .cta-section {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 32px;
            border-radius: 8px;
            margin: 60px 0;
            text-align: center;
        }

        .landing-footer {
            text-align: center;
            padding: 40px;
            border-top: 1px solid #e2e8f0;
            margin-top: 60px;
        }

        /* Registration Page Styles */
        .registration-card {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-group label {
            display: block;
            font-weight: 500;
            color: #1e293b;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 15px;
            transition: border-color 0.2s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .checkbox-group {
            display: flex;
            align-items: start;
            gap: 12px;
            padding: 16px;
            background: #f8fafc;
            border-radius: 6px;
            margin-bottom: 24px;
        }

        .form-actions {
            display: flex;
            gap: 12px;
            margin-top: 32px;
        }

        .file-upload-area {
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            padding: 32px;
            text-align: center;
            background: #f8fafc;
            cursor: pointer;
            transition: all 0.2s;
        }

        .file-upload-area:hover {
            border-color: #3b82f6;
            background: #eff6ff;
        }
    </style>
</head>
<body>
    <!-- Login Overlay -->
    <div class="login-overlay" id="loginOverlay">
        <div class="login-container">
            <div class="login-header">
                <h1>IRTA Forms System</h1>
                <p>Sign in to continue</p>
            </div>
            
            <div class="user-role-selector">
                <div class="role-option selected" onclick="selectRole('officer', this)">
                    <div class="role-option-name">Officer/Admin</div>
                    <div class="role-option-desc">Staff Login</div>
                </div>
                <div class="role-option" onclick="selectRole('applicant', this)">
                    <div class="role-option-name">Applicant</div>
                    <div class="role-option-desc">Individual User</div>
                </div>
            </div>

            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="login-form-group">
                    <label class="login-label">Email Address</label>
                    <input type="email" class="login-input" id="loginEmail" placeholder="email@example.com" required>
                </div>
                <div class="login-form-group">
                    <label class="login-label">Password</label>
                    <input type="password" class="login-input" id="loginPassword" placeholder="Enter your password" required>
                </div>
                <button type="submit" class="login-btn">Sign In</button>
            </form>

            <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid #e5e7eb; text-align: center;">
                <p style="font-size: 12px; color: #64748b; margin-bottom: 12px;">Quick Login (Demo)</p>
                <div style="display: flex; gap: 8px; flex-direction: column;">
                    <button type="button" class="login-btn" style="background-color: #10b981; font-size: 13px; padding: 8px;" onclick="quickLogin('officer')">Login as Officer (John Doe)</button>
                    <button type="button" class="login-btn" style="background-color: #f59e0b; font-size: 13px; padding: 8px;" onclick="quickLogin('applicant')">Login as Applicant</button>
                </div>
            </div>
        </div>
    </div>

    <div class="dashboard-container" id="dashboardContainer" style="display: none;">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>IRTA Forms</h2>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-item" onclick="showPage('landing', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    <span>Landing Page</span>
                </div>
                <div class="nav-item" onclick="showPage('registration', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
                    </svg>
                    <span>Registration</span>
                </div>
                <div class="nav-item" onclick="showPage('login', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>
                    </svg>
                    <span>Login</span>
                </div>
                <div style="margin: 16px 20px; border-top: 1px solid rgba(255,255,255,0.1);"></div>
                <div class="nav-item active" onclick="showPage('dashboard', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" onclick="showPage('individual-irta', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    <span>Individual IRTA</span>
                </div>
                <div class="nav-item" onclick="showPage('renewal', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                    </svg>
                    <span>Renewal</span>
                </div>
                <div class="nav-item" onclick="showPage('amendment', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                    </svg>
                    <span>Amendment</span>
                </div>
                <div class="nav-item" onclick="showPage('cancellation', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                    <span>Cancellation</span>
                </div>
                <div class="nav-item" onclick="showPage('reports', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <span>Reports</span>
                </div>
                <div class="nav-item" onclick="showPage('form-config', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <span>Form Config</span>
                </div>
                <div class="nav-item" onclick="showPage('user-management', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                    </svg>
                    <span>User Management</span>
                </div>
                <div class="nav-item" onclick="showPage('roles-permissions', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                    </svg>
                    <span>Roles & Permissions</span>
                </div>
                <div class="nav-item" onclick="showPage('vehicle-approval', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"></path>
                    </svg>
                    <span>Vehicle Approval</span>
                </div>
                <div class="nav-item" onclick="showPage('system-config', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <span>System Configuration</span>
                </div>
                <div class="nav-item" onclick="showPage('database-access', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"></path>
                    </svg>
                    <span>Database Access</span>
                </div>
                <div class="nav-item" onclick="showPage('system-logs', this)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <span>View All Logs</span>
                </div>
            </nav>
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">JD</div>
                    <div>
                        <div style="font-weight: 500;">John Doe</div>
                        <div style="font-size: 12px; opacity: 0.8;">Issuing Officer</div>
                    </div>
                </div>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Landing Page -->
            <div id="landing-page" class="page-section" style="height: 100vh; overflow-y: auto; overflow-x: hidden; background: #f5f5f5;">
                <div style="padding: 40px;">
                <div class="landing-hero">
                    <h1>IRTA Forms Management System</h1>
                    <p>International Road Transport Agreement</p>
                    <p style="font-size: 18px; opacity: 0.8;">Between the Cooperative Republic of Guyana and the Federative Republic of Brazil</p>
                </div>
                
                <div style="text-align: center; margin-bottom: 64px; padding: 0 40px;">
                    <h2 style="font-size: 36px; color: #1e293b; margin-bottom: 24px;">About IRTA</h2>
                    <p style="font-size: 18px; color: #64748b; max-width: 800px; margin: 0 auto; line-height: 1.8;">
                        The International Road Transport Agreement (IRTA) facilitates road transport services between 
                        Guyana and Brazil. This digital platform streamlines the application process, making it easier 
                        for individuals and businesses to obtain the necessary documents for international road transport operations.
                    </p>
                </div>

                <div class="feature-grid" style="padding: 0 40px;">
                    <div class="feature-card">
                        <div style="width: 64px; height: 64px; background: #eff6ff; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px;">
                            <svg width="32" height="32" fill="none" stroke="#3b82f6" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                        </div>
                        <h3 style="font-size: 24px; color: #1e293b; margin-bottom: 16px;">Easy Application</h3>
                        <p style="color: #64748b; line-height: 1.6;">Submit your IRTA application online with our intuitive step-by-step process. Save drafts and complete at your convenience.</p>
                    </div>
                    <div class="feature-card">
                        <div style="width: 64px; height: 64px; background: #f0fdf4; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px;">
                            <svg width="32" height="32" fill="none" stroke="#10b981" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 style="font-size: 24px; color: #1e293b; margin-bottom: 16px;">Track Progress</h3>
                        <p style="color: #64748b; line-height: 1.6;">Monitor your application status in real-time. Receive notifications at each stage of the review process.</p>
                    </div>
                    <div class="feature-card">
                        <div style="width: 64px; height: 64px; background: #fef3c7; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px;">
                            <svg width="32" height="32" fill="none" stroke="#f59e0b" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                            </svg>
                        </div>
                        <h3 style="font-size: 24px; color: #1e293b; margin-bottom: 16px;">Secure & Safe</h3>
                        <p style="color: #64748b; line-height: 1.6;">Your data is protected with industry-standard security measures. All documents are encrypted and securely stored.</p>
                    </div>
                </div>

                <div class="cta-section" style="margin: 60px 40px;">
                    <h3 style="font-size: 24px; color: #1e40af; margin-bottom: 16px;">Get Started</h3>
                    <p style="color: #1e40af; font-size: 16px; margin-bottom: 24px; line-height: 1.6;">
                        New to the system? Register as an applicant to begin submitting IRTA applications. If you're already registered, 
                        use the login page to access your dashboard.
                    </p>
                    <div style="display: flex; gap: 12px; justify-content: center;">
                        <button class="btn-primary" onclick="showPage('registration', this)">Register Now</button>
                        <button class="btn-secondary" onclick="showPage('login', this)">Login</button>
                    </div>
                </div>

                <div class="landing-footer">
                    <p style="color: #64748b; font-size: 14px;"> 2024 IRTA Administration | Ministry of Home Affairs</p>
                    <p style="color: #94a3b8; font-size: 12px; margin-top: 8px;">Lot 6 Brickdam, Stabroek, Georgetown, Guyana, South America</p>
                </div>
                </div>
            </div>

            <!-- Registration Page -->
            <div id="registration-page" class="page-section" style="height: 100vh; overflow-y: auto; overflow-x: hidden; background: #f5f5f5;">
                <div style="padding: 40px;">
                    <div class="registration-card">
                        <div style="text-align: center; margin-bottom: 40px;">
                            <h1 style="font-size: 32px; color: #1e293b; margin-bottom: 8px;">Register as Applicant</h1>
                            <p style="color: #64748b; font-size: 16px;">Create your account to start submitting IRTA applications</p>
                        </div>
                        <form id="registrationForm" onsubmit="handleRegistration(event); return false;">
                            <div class="form-group">
                                <label>Full Name *</label>
                                <input type="text" id="regFullName" required placeholder="Enter your full name">
                            </div>
                            <div class="form-group">
                                <label>Email Address *</label>
                                <input type="email" id="regEmail" required placeholder="your.email@example.com">
                                <div style="font-size: 12px; color: #64748b; margin-top: 4px;">This will be used as your login username</div>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                                <div class="form-group">
                                    <label>Password *</label>
                                    <input type="password" id="regPassword" required placeholder="Enter password">
                                    <div style="font-size: 12px; color: #64748b; margin-top: 4px;">Minimum 8 characters</div>
                                </div>
                                <div class="form-group">
                                    <label>Confirm Password *</label>
                                    <input type="password" id="regConfirmPassword" required placeholder="Confirm password">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Phone Number *</label>
                                <input type="tel" id="regPhone" required placeholder="+592 XXX XXXX">
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                                <div class="form-group">
                                    <label>Nationality *</label>
                                    <select id="regNationality" required>
                                        <option value="">Select nationality</option>
                                        <option>Guyanese</option>
                                        <option>Brazilian</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Date of Birth *</label>
                                    <input type="date" id="regDateOfBirth" required>
                                </div>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                                <div class="form-group">
                                    <label>ID Type *</label>
                                    <select id="regIdType" required>
                                        <option value="">Select ID type</option>
                                        <option>Passport</option>
                                        <option>National ID</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>ID Number *</label>
                                    <input type="text" id="regIdNumber" required placeholder="Enter ID number">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Address *</label>
                                <textarea id="regAddress" required placeholder="Enter your full address" rows="3"></textarea>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="regTerms" required style="margin-top: 4px;">
                                <label for="regTerms" style="color: #475569; font-size: 14px; line-height: 1.6; margin: 0;">
                                    I agree to the <a href="#" style="color: #3b82f6; text-decoration: none;">Terms of Service</a> and 
                                    <a href="#" style="color: #3b82f6; text-decoration: none;">Privacy Policy</a>. I understand that my 
                                    information will be used to process IRTA applications.
                                </label>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn-secondary" onclick="showPage('landing', this)" style="flex: 1;">Cancel</button>
                                <button type="submit" class="btn-primary" style="flex: 1;">Register</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Login Page -->
            <div id="login-page" class="page-section">
                <div style="padding: 40px; display: flex; align-items: center; justify-content: center; min-height: calc(100vh - 80px);">
                    <div class="login-container" style="max-width: 420px; width: 100%;">
                        <div class="login-header">
                            <h1>IRTA Forms System</h1>
                            <p>Sign in to continue</p>
                        </div>
                        
                        <div class="user-role-selector">
                            <div class="role-option selected" onclick="selectRole('officer', this)">
                                <div class="role-option-name">Officer/Admin</div>
                                <div class="role-option-desc">Staff Login</div>
                            </div>
                            <div class="role-option" onclick="selectRole('applicant', this)">
                                <div class="role-option-name">Applicant</div>
                                <div class="role-option-desc">Individual User</div>
                            </div>
                        </div>

                        <form id="loginPageForm" onsubmit="handleLoginPage(event); return false;">
                            <div class="login-form-group">
                                <label class="login-label">Email Address</label>
                                <input type="email" class="login-input" id="loginPageEmail" placeholder="email@example.com" required>
                            </div>
                            <div class="login-form-group">
                                <label class="login-label">Password</label>
                                <input type="password" class="login-input" id="loginPagePassword" placeholder="Enter your password" required>
                            </div>
                            <button type="submit" class="login-btn">Sign In</button>
                        </form>

                        <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid #e5e7eb; text-align: center;">
                            <p style="color: #64748b; font-size: 14px; margin-bottom: 12px;">Don't have an account?</p>
                            <button class="btn-secondary" onclick="showPage('registration', this)" style="width: 100%;">Register Now</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page-section active">
            <!-- Header -->
            <div class="header">
                <h1 class="header-title">IRTA Applications Dashboard</h1>
                <div class="header-actions">
                    <input type="text" class="search-box" placeholder="Search by reference, name, or ID...">
                    <button class="btn-primary">Export to Excel</button>
                    <button class="btn-primary">Generate Report</button>
                </div>
            </div>

            <!-- Stats Cards -->
            <div style="padding: 24px 24px 0 24px;">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Total Applications</div>
                        <div class="stat-value">247</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Pending Review</div>
                        <div class="stat-value" style="color: #f59e0b;">32</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">In Verification</div>
                        <div class="stat-value" style="color: #ef4444;">18</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Completed This Month</div>
                        <div class="stat-value" style="color: #10b981;">197</div>
                    </div>
                </div>
            </div>

            <!-- Table Container -->
            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">All IRTA Applications</div>
                    <div class="table-controls">
                        <select class="filter-select" id="formTypeFilter">
                            <option value="">All Form Types</option>
                            <option value="Individual">Individual IRTA</option>
                            <option value="Renewal">Renewal</option>
                            <option value="Amendment">Amendment</option>
                            <option value="Cancellation">Cancellation</option>
                        </select>
                        <select class="filter-select" id="statusFilter">
                            <option value="">All Statuses</option>
                            <option value="Submitted">Submitted</option>
                            <option value="Reception Review">Reception Review</option>
                            <option value="Verification">Verification</option>
                            <option value="Issuing Decision">Issuing Decision</option>
                            <option value="Completed">Completed</option>
                        </select>
                        <button class="btn-icon"> Refresh</button>
                        <button class="btn-icon"> Columns</button>
                    </div>
                </div>
                <div style="padding: 0 24px 16px 24px;">
                    <div class="filter-group">
                        <span style="font-size: 14px; color: #64748b;">Showing <strong id="rowCount">8</strong> applications</span>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    IRTA Ref #
                                    <div class="resize-handle"></div>
                                </th>
                                <th>
                                    Form Type
                                    <div class="resize-handle"></div>
                                </th>
                                <th>
                                    Applicant Name
                                    <div class="resize-handle"></div>
                                </th>
                                <th>
                                    Nationality
                                    <div class="resize-handle"></div>
                                </th>
                                <th>
                                    Submission Date
                                    <div class="resize-handle"></div>
                                </th>
                                <th>
                                    Status
                                    <div class="resize-handle"></div>
                                </th>
                                <th>
                                    Assigned Officer
                                    <div class="resize-handle"></div>
                                </th>
                                <th>
                                    Actions
                                    <div class="resize-handle"></div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-form-type="Individual" data-status="Completed" onclick="viewForm('IRTA-2024-001234')">
                                <td><strong>IRTA-2024-001234</strong></td>
                                <td>Individual IRTA</td>
                                <td>Mohammed Al-Rashid</td>
                                <td>Syrian</td>
                                <td>2024-01-15 10:30 AM</td>
                                <td><span class="status-badge status-completed">Completed</span></td>
                                <td>Sarah Johnson</td>
                                <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001234')">View</button></td>
                            </tr>
                            <tr data-form-type="Renewal" data-status="Reception Review" onclick="viewForm('IRTA-2024-001236')">
                                <td><strong>IRTA-2024-001236</strong></td>
                                <td>Renewal</td>
                                <td>Fatima Hassan</td>
                                <td>Jordanian</td>
                                <td>2024-01-13 9:45 AM</td>
                                <td><span class="status-badge status-reception">Reception Review</span></td>
                                <td>Not Assigned</td>
                                <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001236')">View</button></td>
                            </tr>
                            <tr data-form-type="Individual" data-status="Submitted" onclick="viewForm('IRTA-2024-001237')">
                                <td><strong>IRTA-2024-001237</strong></td>
                                <td>Individual IRTA</td>
                                <td>Ahmad Mahmoud</td>
                                <td>Palestinian</td>
                                <td>2024-01-12 4:22 PM</td>
                                <td><span class="status-badge status-submitted">Submitted</span></td>
                                <td>Not Assigned</td>
                                <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001237')">View</button></td>
                            </tr>
                            <tr data-form-type="Amendment" data-status="Completed" onclick="viewForm('IRTA-2024-001238')">
                                <td><strong>IRTA-2024-001238</strong></td>
                                <td>Amendment</td>
                                <td>Yusuf Abdullah</td>
                                <td>Iraqi</td>
                                <td>2024-01-11 11:10 AM</td>
                                <td><span class="status-badge status-completed">Completed</span></td>
                                <td>John Doe</td>
                                <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001238')">View</button></td>
                            </tr>
                            <tr data-form-type="Individual" data-status="Reception Review" onclick="viewForm('IRTA-2024-001240')">
                                <td><strong>IRTA-2024-001240</strong></td>
                                <td>Individual IRTA</td>
                                <td>Layla Ibrahim</td>
                                <td>Lebanese</td>
                                <td>2024-01-09 8:20 AM</td>
                                <td><span class="status-badge status-reception">Reception Review</span></td>
                                <td>Emily Watson</td>
                                <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001240')">View</button></td>
                            </tr>
                            <tr data-form-type="Cancellation" data-status="Completed" onclick="viewForm('IRTA-2024-001241')">
                                <td><strong>IRTA-2024-001241</strong></td>
                                <td>Cancellation</td>
                                <td>Omar Salim</td>
                                <td>Syrian</td>
                                <td>2024-01-08 1:45 PM</td>
                                <td><span class="status-badge status-completed">Completed</span></td>
                                <td>Sarah Johnson</td>
                                <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001241')">View</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            </div>
            <!-- End Dashboard Page -->

            <!-- Roles & Permissions Page -->
            <div id="roles-permissions-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">Roles & Permissions Management</h1>
                    <div class="header-actions">
                        <input type="text" class="search-box" placeholder="Search roles or users...">
                        <button class="btn-primary add-role-btn">
                            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            Add New Role
                        </button>
                    </div>
                </div>

                <div class="roles-container" style="max-height: calc(100vh - 200px); overflow-y: auto;">
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab('roles', this)">Roles Overview</button>
                        <button class="tab" onclick="switchTab('matrix', this)">Permissions Matrix</button>
                        <button class="tab" onclick="switchTab('users', this)">User Assignments</button>
                    </div>

                    <!-- Roles Overview Tab -->
                    <div id="roles-tab" class="tab-content">
                        <div class="roles-grid">
                            <div class="role-card">
                                <div class="role-header">
                                    <div class="role-name">IRTA Administration</div>
                                    <span class="role-badge">5 users</span>
                                </div>
                                <div class="permissions-list">
                                    <div class="permission-group">
                                        <div class="permission-group-title">Form Permissions</div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">View All Forms</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Create Forms</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Edit Forms</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Delete Forms</span>
                                        </div>
                                    </div>
                                    <div class="permission-group">
                                        <div class="permission-group-title">Workflow Permissions</div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Verify</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Approve</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Reject</span>
                                        </div>
                                    </div>
                                    <div class="permission-group">
                                        <div class="permission-group-title">System Permissions</div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Manage Users</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Manage Roles</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Configure Forms</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">View Reports</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="users-count">5 users assigned to this role</div>
                                <div class="role-actions">
                                    <button class="btn-small btn-edit">Edit Role</button>
                                    <button class="btn-small btn-delete">Delete</button>
                                </div>
                            </div>

                            <div class="role-card">
                                <div class="role-header">
                                    <div class="role-name">Issuing Officer</div>
                                    <span class="role-badge">12 users</span>
                                </div>
                                <div class="permissions-list">
                                    <div class="permission-group">
                                        <div class="permission-group-title">Form Permissions</div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">View Assigned Forms</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Edit Assigned Forms</span>
                                        </div>
                                    </div>
                                    <div class="permission-group">
                                        <div class="permission-group-title">Workflow Permissions</div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Approve</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Reject</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Reassign</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="users-count">12 users assigned to this role</div>
                                <div class="role-actions">
                                    <button class="btn-small btn-edit">Edit Role</button>
                                    <button class="btn-small btn-delete">Delete</button>
                                </div>
                            </div>

                            <div class="role-card">
                                <div class="role-header">
                                    <div class="role-name">Verification Officer</div>
                                    <span class="role-badge">8 users</span>
                                </div>
                                <div class="permissions-list">
                                    <div class="permission-group">
                                        <div class="permission-group-title">Form Permissions</div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">View Assigned Forms</span>
                                        </div>
                                    </div>
                                    <div class="permission-group">
                                        <div class="permission-group-title">Workflow Permissions</div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Verify</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Request Additional Info</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="users-count">8 users assigned to this role</div>
                                <div class="role-actions">
                                    <button class="btn-small btn-edit">Edit Role</button>
                                    <button class="btn-small btn-delete">Delete</button>
                                </div>
                            </div>

                            <div class="role-card">
                                <div class="role-header">
                                    <div class="role-name">Reception Staff</div>
                                    <span class="role-badge">6 users</span>
                                </div>
                                <div class="permissions-list">
                                    <div class="permission-group">
                                        <div class="permission-group-title">Form Permissions</div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">View All Forms</span>
                                        </div>
                                    </div>
                                    <div class="permission-group">
                                        <div class="permission-group-title">Workflow Permissions</div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Review</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Assign to Officers</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="users-count">6 users assigned to this role</div>
                                <div class="role-actions">
                                    <button class="btn-small btn-edit">Edit Role</button>
                                    <button class="btn-small btn-delete">Delete</button>
                                </div>
                            </div>

                            <div class="role-card">
                                <div class="role-header">
                                    <div class="role-name">Applicant</div>
                                    <span class="role-badge">Active Users</span>
                                </div>
                                <div class="permissions-list">
                                    <div class="permission-group">
                                        <div class="permission-group-title">Form Permissions</div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Create Forms</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">View Own Forms</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Edit Draft Forms</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" disabled>
                                            <span class="permission-label">Edit Submitted Forms</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="users-count">External user role - no direct assignments</div>
                                <div class="role-actions">
                                    <button class="btn-small btn-edit">Edit Role</button>
                                </div>
                            </div>

                            <div class="role-card">
                                <div class="role-header">
                                    <div class="role-name">IT / Systems Admin</div>
                                    <span class="role-badge">2 users</span>
                                </div>
                                <div class="permissions-list">
                                    <div class="permission-group">
                                        <div class="permission-group-title">System Permissions</div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">System Configuration</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">Database Access</span>
                                        </div>
                                        <div class="permission-item">
                                            <input type="checkbox" class="permission-checkbox" checked disabled>
                                            <span class="permission-label">View All Logs</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="users-count">2 users assigned to this role</div>
                                <div class="role-actions">
                                    <button class="btn-small btn-edit">Edit Role</button>
                                    <button class="btn-small btn-delete">Delete</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Permissions Matrix Tab -->
                    <div id="matrix-tab" class="tab-content" style="display: none;">
                        <div class="permissions-matrix">
                            <table class="matrix-table">
                                <thead>
                                    <tr>
                                        <th>Permission</th>
                                        <th>IRTA Admin</th>
                                        <th>Issuing Officer</th>
                                        <th>Verification Officer</th>
                                        <th>Reception Staff</th>
                                        <th>Applicant</th>
                                        <th>IT Admin</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Forms</strong></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>View All Forms</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                    </tr>
                                    <tr>
                                        <td>View Assigned Forms</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                    </tr>
                                    <tr>
                                        <td>Create Forms</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                    </tr>
                                    <tr>
                                        <td>Edit Forms</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Workflow</strong></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Verify</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                    </tr>
                                    <tr>
                                        <td>Approve</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                    </tr>
                                    <tr>
                                        <td>Reject</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                    </tr>
                                    <tr>
                                        <td>Reassign</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>System</strong></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Manage Users</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                    </tr>
                                    <tr>
                                        <td>Manage Roles</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                    </tr>
                                    <tr>
                                        <td>Configure Forms</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                    </tr>
                                    <tr>
                                        <td>View Reports</td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                        <td class="matrix-check"><span class="cross-icon"></span></td>
                                        <td class="matrix-check"><span class="check-icon"></span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- User Assignments Tab -->
                    <div id="users-tab" class="tab-content" style="display: none;">
                        <div class="users-table-container">
                            <div class="table-header">
                                <div class="table-title">User Role Assignments</div>
                                <div class="table-controls">
                                    <button class="btn-icon"> Refresh</button>
                                    <button class="btn-icon"> Export</button>
                                </div>
                            </div>
                            <div class="table-wrapper">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>User Name</th>
                                            <th>Email</th>
                                            <th>Roles</th>
                                            <th>Department</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Ahmed Hassan</td>
                                            <td>ahmed.hassan@irta.gov</td>
                                            <td>
                                                <span class="user-role-badge badge-admin">IRTA Admin</span>
                                            </td>
                                            <td>Administration</td>
                                            <td><span class="status-badge status-completed">Active</span></td>
                                            <td><button class="action-btn">Edit</button></td>
                                        </tr>
                                        <tr>
                                            <td>John Doe</td>
                                            <td>john.doe@irta.gov</td>
                                            <td>
                                                <span class="user-role-badge badge-officer">Issuing Officer</span>
                                            </td>
                                            <td>Immigration</td>
                                            <td><span class="status-badge status-completed">Active</span></td>
                                            <td><button class="action-btn">Edit</button></td>
                                        </tr>
                                        <tr>
                                            <td>Sarah Johnson</td>
                                            <td>sarah.johnson@irta.gov</td>
                                            <td>
                                                <span class="user-role-badge badge-officer">Issuing Officer</span>
                                            </td>
                                            <td>Immigration</td>
                                            <td><span class="status-badge status-completed">Active</span></td>
                                            <td><button class="action-btn">Edit</button></td>
                                        </tr>
                                        <tr>
                                            <td>Michael Chen</td>
                                            <td>michael.chen@irta.gov</td>
                                            <td>
                                                <span class="user-role-badge badge-verification">Verification Officer</span>
                                            </td>
                                            <td>Verification & Compliance</td>
                                            <td><span class="status-badge status-completed">Active</span></td>
                                            <td><button class="action-btn">Edit</button></td>
                                        </tr>
                                        <tr>
                                            <td>Emily Watson</td>
                                            <td>emily.watson@irta.gov</td>
                                            <td>
                                                <span class="user-role-badge badge-reception">Reception Staff</span>
                                            </td>
                                            <td>Reception</td>
                                            <td><span class="status-badge status-completed">Active</span></td>
                                            <td><button class="action-btn">Edit</button></td>
                                        </tr>
                                        <tr>
                                            <td>Robert Kim</td>
                                            <td>robert.kim@irta.gov</td>
                                            <td>
                                                <span class="user-role-badge badge-officer">Issuing Officer</span>
                                                <span class="user-role-badge badge-verification">Verification Officer</span>
                                            </td>
                                            <td>Immigration</td>
                                            <td><span class="status-badge status-completed">Active</span></td>
                                            <td><button class="action-btn">Edit</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Roles & Permissions Page -->

            <!-- User Management Page -->
            <div id="user-management-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">User Management</h1>
                    <div class="header-actions">
                        <input type="text" class="search-box" placeholder="Search users...">
                        <button class="btn-primary add-role-btn">
                            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            Add New User
                        </button>
                    </div>
                </div>

                <div class="roles-container">
                    <div class="users-table-container">
                        <div class="table-header">
                            <div class="table-title">All Users</div>
                            <div class="table-controls">
                                <button class="btn-icon"> Filter</button>
                                <button class="btn-icon"> Refresh</button>
                                <button class="btn-icon"> Export</button>
                            </div>
                        </div>
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                    <tr>
                                        <th>User ID</th>
                                        <th>Full Name</th>
                                        <th>Email</th>
                                        <th>Roles</th>
                                        <th>Department</th>
                                        <th>Status</th>
                                        <th>Last Login</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>U001</td>
                                        <td>Ahmed Hassan</td>
                                        <td>ahmed.hassan@irta.gov</td>
                                        <td>
                                            <span class="user-role-badge badge-admin">IRTA Admin</span>
                                        </td>
                                        <td>Administration</td>
                                        <td><span class="status-badge status-completed">Active</span></td>
                                        <td>2024-01-15 09:30 AM</td>
                                        <td>
                                            <button class="action-btn" onclick="editUser('U001')">Edit</button>
                                            <button class="action-btn" style="background-color: #ef4444; margin-left: 4px;" onclick="deleteUser('U001')">Delete</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>U002</td>
                                        <td>John Doe</td>
                                        <td>john.doe@irta.gov</td>
                                        <td>
                                            <span class="user-role-badge badge-officer">Issuing Officer</span>
                                        </td>
                                        <td>Immigration</td>
                                        <td><span class="status-badge status-completed">Active</span></td>
                                        <td>2024-01-15 08:15 AM</td>
                                        <td>
                                            <button class="action-btn" onclick="editUser('U002')">Edit</button>
                                            <button class="action-btn" style="background-color: #ef4444; margin-left: 4px;" onclick="deleteUser('U002')">Delete</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>U003</td>
                                        <td>Sarah Johnson</td>
                                        <td>sarah.johnson@irta.gov</td>
                                        <td>
                                            <span class="user-role-badge badge-officer">Issuing Officer</span>
                                        </td>
                                        <td>Immigration</td>
                                        <td><span class="status-badge status-completed">Active</span></td>
                                        <td>2024-01-14 04:20 PM</td>
                                        <td>
                                            <button class="action-btn" onclick="editUser('U003')">Edit</button>
                                            <button class="action-btn" style="background-color: #ef4444; margin-left: 4px;" onclick="deleteUser('U003')">Delete</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>U004</td>
                                        <td>Michael Chen</td>
                                        <td>michael.chen@irta.gov</td>
                                        <td>
                                            <span class="user-role-badge badge-verification">Verification Officer</span>
                                        </td>
                                        <td>Verification & Compliance</td>
                                        <td><span class="status-badge status-completed">Active</span></td>
                                        <td>2024-01-15 10:45 AM</td>
                                        <td>
                                            <button class="action-btn" onclick="editUser('U004')">Edit</button>
                                            <button class="action-btn" style="background-color: #ef4444; margin-left: 4px;" onclick="deleteUser('U004')">Delete</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>U005</td>
                                        <td>Emily Watson</td>
                                        <td>emily.watson@irta.gov</td>
                                        <td>
                                            <span class="user-role-badge badge-reception">Reception Staff</span>
                                        </td>
                                        <td>Reception</td>
                                        <td><span class="status-badge status-completed">Active</span></td>
                                        <td>2024-01-15 07:30 AM</td>
                                        <td>
                                            <button class="action-btn" onclick="editUser('U005')">Edit</button>
                                            <button class="action-btn" style="background-color: #ef4444; margin-left: 4px;" onclick="deleteUser('U005')">Delete</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>U006</td>
                                        <td>Robert Kim</td>
                                        <td>robert.kim@irta.gov</td>
                                        <td>
                                            <span class="user-role-badge badge-officer">Issuing Officer</span>
                                            <span class="user-role-badge badge-verification">Verification Officer</span>
                                        </td>
                                        <td>Immigration</td>
                                        <td><span class="status-badge status-completed">Active</span></td>
                                        <td>2024-01-13 02:15 PM</td>
                                        <td>
                                            <button class="action-btn" onclick="editUser('U006')">Edit</button>
                                            <button class="action-btn" style="background-color: #ef4444; margin-left: 4px;" onclick="deleteUser('U006')">Delete</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>U007</td>
                                        <td>Fatima Al-Mansouri</td>
                                        <td>fatima.almansouri@irta.gov</td>
                                        <td>
                                            <span class="user-role-badge badge-reception">Reception Staff</span>
                                        </td>
                                        <td>Reception</td>
                                        <td><span class="status-badge status-pending">Inactive</span></td>
                                        <td>2024-01-10 11:00 AM</td>
                                        <td>
                                            <button class="action-btn" onclick="editUser('U007')">Edit</button>
                                            <button class="action-btn" style="background-color: #ef4444; margin-left: 4px;" onclick="deleteUser('U007')">Delete</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>U008</td>
                                        <td>David Thompson</td>
                                        <td>david.thompson@irta.gov</td>
                                        <td>
                                            <span class="user-role-badge badge-admin">IT Admin</span>
                                        </td>
                                        <td>IT Department</td>
                                        <td><span class="status-badge status-completed">Active</span></td>
                                        <td>2024-01-15 09:00 AM</td>
                                        <td>
                                            <button class="action-btn" onclick="editUser('U008')">Edit</button>
                                            <button class="action-btn" style="background-color: #ef4444; margin-left: 4px;" onclick="deleteUser('U008')">Delete</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End User Management Page -->

            <!-- Individual IRTA Page -->
            <div id="individual-irta-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">Individual IRTA Applications</h1>
                    <div class="header-actions">
                        <input type="text" class="search-box" placeholder="Search applications...">
                        <button class="btn-primary">Export to Excel</button>
                        <button class="btn-primary">
                            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 6px;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            New Individual IRTA
                        </button>
                    </div>
                </div>

                <div style="padding: 24px 24px 0 24px;">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Total Individual IRTA</div>
                            <div class="stat-value">142</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Pending</div>
                            <div class="stat-value" style="color: #f59e0b;">18</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">In Process</div>
                            <div class="stat-value" style="color: #3b82f6;">24</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Completed</div>
                            <div class="stat-value" style="color: #10b981;">100</div>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">Individual IRTA Applications</div>
                        <div class="table-controls">
                            <select class="filter-select" id="individualStatusFilter">
                                <option value="">All Statuses</option>
                                <option value="Submitted">Submitted</option>
                                <option value="Reception Review">Reception Review</option>
                                <option value="Verification">Verification</option>
                                <option value="Issuing Decision">Issuing Decision</option>
                                <option value="Completed">Completed</option>
                            </select>
                            <button class="btn-icon"> Refresh</button>
                            <button class="btn-icon"> Columns</button>
                        </div>
                    </div>
                    <div style="padding: 0 24px 16px 24px;">
                        <div class="filter-group">
                            <span style="font-size: 14px; color: #64748b;">Showing <strong id="individualRowCount">8</strong> Individual IRTA applications</span>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>
                                        IRTA Ref #
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Applicant Name
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Nationality
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Purpose
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Submission Date
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Status
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Assigned Officer
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Actions
                                        <div class="resize-handle"></div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-status="Completed" onclick="viewForm('IRTA-2024-001234')">
                                    <td><strong>IRTA-2024-001234</strong></td>
                                    <td>Mohammed Al-Rashid</td>
                                    <td>Syrian</td>
                                    <td>Employment</td>
                                    <td>2024-01-15 10:30 AM</td>
                                    <td><span class="status-badge status-completed">Completed</span></td>
                                    <td>Sarah Johnson</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001234')">View</button></td>
                                </tr>
                                <tr data-status="Submitted" onclick="viewForm('IRTA-2024-001237')">
                                    <td><strong>IRTA-2024-001237</strong></td>
                                    <td>Ahmad Mahmoud</td>
                                    <td>Palestinian</td>
                                    <td>Family Reunion</td>
                                    <td>2024-01-12 4:22 PM</td>
                                    <td><span class="status-badge status-submitted">Submitted</span></td>
                                    <td>Not Assigned</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001237')">View</button></td>
                                </tr>
                                <tr data-status="Reception Review" onclick="viewForm('IRTA-2024-001240')">
                                    <td><strong>IRTA-2024-001240</strong></td>
                                    <td>Layla Ibrahim</td>
                                    <td>Lebanese</td>
                                    <td>Employment</td>
                                    <td>2024-01-09 8:20 AM</td>
                                    <td><span class="status-badge status-reception">Reception Review</span></td>
                                    <td>Emily Watson</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001240')">View</button></td>
                                </tr>
                                <tr data-status="Verification" onclick="viewForm('IRTA-2024-001242')">
                                    <td><strong>IRTA-2024-001242</strong></td>
                                    <td>Khalid Al-Zahra</td>
                                    <td>Iraqi</td>
                                    <td>Education</td>
                                    <td>2024-01-08 2:15 PM</td>
                                    <td><span class="status-badge status-verification">Verification</span></td>
                                    <td>Michael Chen</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001242')">View</button></td>
                                </tr>
                                <tr data-status="Issuing Decision" onclick="viewForm('IRTA-2024-001243')">
                                    <td><strong>IRTA-2024-001243</strong></td>
                                    <td>Nadia Fadel</td>
                                    <td>Jordanian</td>
                                    <td>Employment</td>
                                    <td>2024-01-07 11:30 AM</td>
                                    <td><span class="status-badge status-decision">Issuing Decision</span></td>
                                    <td>John Doe</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001243')">View</button></td>
                                </tr>
                                <tr data-status="Completed" onclick="viewForm('IRTA-2024-001244')">
                                    <td><strong>IRTA-2024-001244</strong></td>
                                    <td>Samir Hassan</td>
                                    <td>Syrian</td>
                                    <td>Medical Treatment</td>
                                    <td>2024-01-06 9:45 AM</td>
                                    <td><span class="status-badge status-completed">Completed</span></td>
                                    <td>Sarah Johnson</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001244')">View</button></td>
                                </tr>
                                <tr data-status="Reception Review" onclick="viewForm('IRTA-2024-001245')">
                                    <td><strong>IRTA-2024-001245</strong></td>
                                    <td>Yara Khoury</td>
                                    <td>Lebanese</td>
                                    <td>Employment</td>
                                    <td>2024-01-05 3:20 PM</td>
                                    <td><span class="status-badge status-reception">Reception Review</span></td>
                                    <td>Not Assigned</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001245')">View</button></td>
                                </tr>
                                <tr data-status="Submitted" onclick="viewForm('IRTA-2024-001246')">
                                    <td><strong>IRTA-2024-001246</strong></td>
                                    <td>Omar Najjar</td>
                                    <td>Palestinian</td>
                                    <td>Family Reunion</td>
                                    <td>2024-01-04 1:10 PM</td>
                                    <td><span class="status-badge status-submitted">Submitted</span></td>
                                    <td>Not Assigned</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001246')">View</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- End Individual IRTA Page -->


            <!-- Renewal IRTA Page -->
            <div id="renewal-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">Renewal Applications</h1>
                    <div class="header-actions">
                        <input type="text" class="search-box" placeholder="Search applications...">
                        <button class="btn-primary">Export to Excel</button>
                        <button class="btn-primary">
                            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 6px;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            New Renewal Application
                        </button>
                    </div>
                </div>

                <div style="padding: 24px 24px 0 24px;">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Total Renewals</div>
                            <div class="stat-value">67</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Pending</div>
                            <div class="stat-value" style="color: #f59e0b;">9</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">In Process</div>
                            <div class="stat-value" style="color: #3b82f6;">14</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Completed</div>
                            <div class="stat-value" style="color: #10b981;">44</div>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">Renewal Applications</div>
                        <div class="table-controls">
                            <select class="filter-select" id="renewalStatusFilter">
                                <option value="">All Statuses</option>
                                <option value="Submitted">Submitted</option>
                                <option value="Reception Review">Reception Review</option>
                                <option value="Verification">Verification</option>
                                <option value="Issuing Decision">Issuing Decision</option>
                                <option value="Completed">Completed</option>
                            </select>
                            <select class="filter-select" id="renewalTypeFilter">
                                <option value="">All Types</option>
                                <option value="Individual">Individual</option>
                            </select>
                            <button class="btn-icon"> Refresh</button>
                            <button class="btn-icon"> Columns</button>
                        </div>
                    </div>
                    <div style="padding: 0 24px 16px 24px;">
                        <div class="filter-group">
                            <span style="font-size: 14px; color: #64748b;">Showing <strong id="renewalRowCount">8</strong> renewal applications</span>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>
                                        IRTA Ref #
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Application Type
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Applicant/Company
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Previous IRTA Ref #
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Expiry Date
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Submission Date
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Status
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Assigned Officer
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Actions
                                        <div class="resize-handle"></div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-status="Issuing Decision" data-type="Individual" onclick="viewForm('IRTA-2024-REN002')">
                                    <td><strong>IRTA-2024-REN002</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Mohammed Al-Rashid</td>
                                    <td>IRTA-2023-000456</td>
                                    <td>2024-02-28</td>
                                    <td>2024-01-12 10:30 AM</td>
                                    <td><span class="status-badge status-decision">Issuing Decision</span></td>
                                    <td>John Doe</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-REN002')">View</button></td>
                                </tr>
                                <tr data-status="Reception Review" data-type="Individual" onclick="viewForm('IRTA-2024-REN004')">
                                    <td><strong>IRTA-2024-REN004</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Ahmad Mahmoud</td>
                                    <td>IRTA-2023-000987</td>
                                    <td>2024-05-20</td>
                                    <td>2024-01-08 4:45 PM</td>
                                    <td><span class="status-badge status-reception">Reception Review</span></td>
                                    <td>Emily Watson</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-REN004')">View</button></td>
                                </tr>
                                <tr data-status="Verification" data-type="Individual" onclick="viewForm('IRTA-2024-REN006')">
                                    <td><strong>IRTA-2024-REN006</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Layla Ibrahim</td>
                                    <td>IRTA-2023-000567</td>
                                    <td>2024-03-30</td>
                                    <td>2024-01-06 3:30 PM</td>
                                    <td><span class="status-badge status-verification">Verification</span></td>
                                    <td>Michael Chen</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-REN006')">View</button></td>
                                </tr>
                                <tr data-status="Completed" data-type="Individual" onclick="viewForm('IRTA-2024-REN008')">
                                    <td><strong>IRTA-2024-REN008</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Khalid Al-Zahra</td>
                                    <td>IRTA-2023-000678</td>
                                    <td>2024-02-14</td>
                                    <td>2024-01-04 1:20 PM</td>
                                    <td><span class="status-badge status-completed">Completed</span></td>
                                    <td>Sarah Johnson</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-REN008')">View</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- End Renewal IRTA Page -->

            <!-- Amendment IRTA Page -->
            <div id="amendment-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">Amendment / Update Requests</h1>
                    <div class="header-actions">
                        <input type="text" class="search-box" placeholder="Search applications...">
                        <button class="btn-primary">Export to Excel</button>
                        <button class="btn-primary">
                            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 6px;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            New Amendment Request
                        </button>
                    </div>
                </div>

                <div style="padding: 24px 24px 0 24px;">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Total Amendments</div>
                            <div class="stat-value">43</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Pending</div>
                            <div class="stat-value" style="color: #f59e0b;">6</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">In Process</div>
                            <div class="stat-value" style="color: #3b82f6;">11</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Completed</div>
                            <div class="stat-value" style="color: #10b981;">26</div>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">Amendment / Update Requests</div>
                        <div class="table-controls">
                            <select class="filter-select" id="amendmentStatusFilter">
                                <option value="">All Statuses</option>
                                <option value="Submitted">Submitted</option>
                                <option value="Reception Review">Reception Review</option>
                                <option value="Verification">Verification</option>
                                <option value="Issuing Decision">Issuing Decision</option>
                                <option value="Completed">Completed</option>
                            </select>
                            <select class="filter-select" id="amendmentTypeFilter">
                                <option value="">All Types</option>
                                <option value="Individual">Individual</option>
                            </select>
                            <select class="filter-select" id="amendmentCategoryFilter">
                                <option value="">All Categories</option>
                                <option value="Contact Information">Contact Information</option>
                                <option value="Vehicle Information">Vehicle Information</option>
                                <option value="Representative">Representative</option>
                                <option value="Organization Details">Organization Details</option>
                                <option value="Transportation Routes">Transportation Routes</option>
                                <option value="Other">Other</option>
                            </select>
                            <button class="btn-icon"> Refresh</button>
                            <button class="btn-icon"> Columns</button>
                        </div>
                    </div>
                    <div style="padding: 0 24px 16px 24px;">
                        <div class="filter-group">
                            <span style="font-size: 14px; color: #64748b;">Showing <strong id="amendmentRowCount">8</strong> amendment requests</span>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>
                                        Amendment Ref #
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Application Type
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Applicant/Company
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Original IRTA Ref #
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Amendment Category
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Submission Date
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Status
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Assigned Officer
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Actions
                                        <div class="resize-handle"></div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-status="Issuing Decision" data-type="Individual" data-category="Contact Information" onclick="viewForm('IRTA-2024-AMD002')">
                                    <td><strong>IRTA-2024-AMD002</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Mohammed Al-Rashid</td>
                                    <td>IRTA-2023-000456</td>
                                    <td>Contact Information</td>
                                    <td>2024-01-14 2:15 PM</td>
                                    <td><span class="status-badge status-decision">Issuing Decision</span></td>
                                    <td>John Doe</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-AMD002')">View</button></td>
                                </tr>
                                <tr data-status="Submitted" data-type="Individual" data-category="Contact Information" onclick="viewForm('IRTA-2024-AMD005')">
                                    <td><strong>IRTA-2024-AMD005</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Ahmad Mahmoud</td>
                                    <td>IRTA-2023-000987</td>
                                    <td>Contact Information</td>
                                    <td>2024-01-11 11:15 AM</td>
                                    <td><span class="status-badge status-submitted">Submitted</span></td>
                                    <td>Not Assigned</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-AMD005')">View</button></td>
                                </tr>
                                <tr data-status="Issuing Decision" data-type="Individual" data-category="Vehicle Information" onclick="viewForm('IRTA-2024-AMD007')">
                                    <td><strong>IRTA-2024-AMD007</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Layla Ibrahim</td>
                                    <td>IRTA-2023-000567</td>
                                    <td>Vehicle Information</td>
                                    <td>2024-01-09 8:00 AM</td>
                                    <td><span class="status-badge status-decision">Issuing Decision</span></td>
                                    <td>John Doe</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-AMD007')">View</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- End Amendment IRTA Page -->

            <!-- Cancellation IRTA Page -->
            <div id="cancellation-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">Cancellation / Withdrawal Requests</h1>
                    <div class="header-actions">
                        <input type="text" class="search-box" placeholder="Search applications...">
                        <button class="btn-primary">Export to Excel</button>
                        <button class="btn-primary">
                            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 6px;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            New Cancellation Request
                        </button>
                    </div>
                </div>

                <div style="padding: 24px 24px 0 24px;">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Total Cancellations</div>
                            <div class="stat-value">28</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Pending</div>
                            <div class="stat-value" style="color: #f59e0b;">4</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">In Process</div>
                            <div class="stat-value" style="color: #3b82f6;">6</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Completed</div>
                            <div class="stat-value" style="color: #10b981;">18</div>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">Cancellation / Withdrawal Requests</div>
                        <div class="table-controls">
                            <select class="filter-select" id="cancellationStatusFilter">
                                <option value="">All Statuses</option>
                                <option value="Submitted">Submitted</option>
                                <option value="Reception Review">Reception Review</option>
                                <option value="Verification">Verification</option>
                                <option value="Issuing Decision">Issuing Decision</option>
                                <option value="Completed">Completed</option>
                            </select>
                            <select class="filter-select" id="cancellationTypeFilter">
                                <option value="">All Types</option>
                                <option value="Individual">Individual</option>
                            </select>
                            <select class="filter-select" id="cancellationReasonFilter">
                                <option value="">All Reasons</option>
                                <option value="No longer needed">No longer needed</option>
                                <option value="Business closure">Business closure</option>
                                <option value="Change of plans">Change of plans</option>
                                <option value="Compliance issues">Compliance issues</option>
                                <option value="Other">Other</option>
                            </select>
                            <button class="btn-icon"> Refresh</button>
                            <button class="btn-icon"> Columns</button>
                        </div>
                    </div>
                    <div style="padding: 0 24px 16px 24px;">
                        <div class="filter-group">
                            <span style="font-size: 14px; color: #64748b;">Showing <strong id="cancellationRowCount">8</strong> cancellation requests</span>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>
                                        Cancellation Ref #
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Application Type
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Applicant/Company
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Original IRTA Ref #
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Reason for Cancellation
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Request Date
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Status
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Assigned Officer
                                        <div class="resize-handle"></div>
                                    </th>
                                    <th>
                                        Actions
                                        <div class="resize-handle"></div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-status="Issuing Decision" data-type="Individual" data-reason="No longer needed" onclick="viewForm('IRTA-2024-CAN002')">
                                    <td><strong>IRTA-2024-CAN002</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Mohammed Al-Rashid</td>
                                    <td>IRTA-2023-000456</td>
                                    <td>No longer needed</td>
                                    <td>2024-01-15 2:15 PM</td>
                                    <td><span class="status-badge status-decision">Issuing Decision</span></td>
                                    <td>John Doe</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-CAN002')">View</button></td>
                                </tr>
                                <tr data-status="Reception Review" data-type="Individual" data-reason="No longer needed" onclick="viewForm('IRTA-2024-CAN004')">
                                    <td><strong>IRTA-2024-CAN004</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Ahmad Mahmoud</td>
                                    <td>IRTA-2023-000987</td>
                                    <td>No longer needed</td>
                                    <td>2024-01-13 4:45 PM</td>
                                    <td><span class="status-badge status-reception">Reception Review</span></td>
                                    <td>Emily Watson</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-CAN004')">View</button></td>
                                </tr>
                                <tr data-status="Verification" data-type="Individual" data-reason="Other" onclick="viewForm('IRTA-2024-CAN006')">
                                    <td><strong>IRTA-2024-CAN006</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Layla Ibrahim</td>
                                    <td>IRTA-2023-000567</td>
                                    <td>Other</td>
                                    <td>2024-01-11 3:30 PM</td>
                                    <td><span class="status-badge status-verification">Verification</span></td>
                                    <td>Michael Chen</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-CAN006')">View</button></td>
                                </tr>
                                <tr data-status="Completed" data-type="Individual" data-reason="Change of plans" onclick="viewForm('IRTA-2024-CAN008')">
                                    <td><strong>IRTA-2024-CAN008</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Khalid Al-Zahra</td>
                                    <td>IRTA-2023-000678</td>
                                    <td>Change of plans</td>
                                    <td>2024-01-09 1:20 PM</td>
                                    <td><span class="status-badge status-completed">Completed</span></td>
                                    <td>Sarah Johnson</td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-CAN008')">View</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- End Cancellation IRTA Page -->

            <!-- Reports Page -->
            <div id="reports-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">Reports & Analytics</h1>
                    <div class="header-actions">
                        <input type="date" class="search-box" id="reportStartDate" style="width: 150px; padding: 8px 12px;">
                        <span style="margin: 0 8px; color: #64748b;">to</span>
                        <input type="date" class="search-box" id="reportEndDate" style="width: 150px; padding: 8px 12px;">
                        <button class="btn-primary" onclick="generateReport()">Generate Report</button>
                    </div>
                </div>

                <div style="padding: 24px;">
                    <!-- Report Type Cards -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 32px;">
                        <div class="report-card" onclick="showReportSection('summary')" style="cursor: pointer; background: white; border: 2px solid #e2e8f0; border-radius: 12px; padding: 24px; transition: all 0.2s;" onmouseover="this.style.borderColor='#3b82f6'" onmouseout="this.style.borderColor='#e2e8f0'">
                            <div style="display: flex; align-items: center; gap: 16px;">
                                <div style="width: 48px; height: 48px; background: #eff6ff; border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" fill="none" stroke="#3b82f6" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Summary Reports</div>
                                    <div style="font-size: 13px; color: #64748b;">Application counts & statistics</div>
                                </div>
                            </div>
                        </div>
                        <div class="report-card" onclick="showReportSection('performance')" style="cursor: pointer; background: white; border: 2px solid #e2e8f0; border-radius: 12px; padding: 24px; transition: all 0.2s;" onmouseover="this.style.borderColor='#10b981'" onmouseout="this.style.borderColor='#e2e8f0'">
                            <div style="display: flex; align-items: center; gap: 16px;">
                                <div style="width: 48px; height: 48px; background: #f0fdf4; border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" fill="none" stroke="#10b981" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                    </svg>
                                </div>
                                <div>
                                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Performance Metrics</div>
                                    <div style="font-size: 13px; color: #64748b;">Processing times & efficiency</div>
                                </div>
                            </div>
                        </div>
                        <div class="report-card" onclick="showReportSection('officer')" style="cursor: pointer; background: white; border: 2px solid #e2e8f0; border-radius: 12px; padding: 24px; transition: all 0.2s;" onmouseover="this.style.borderColor='#f59e0b'" onmouseout="this.style.borderColor='#e2e8f0'">
                            <div style="display: flex; align-items: center; gap: 16px;">
                                <div style="width: 48px; height: 48px; background: #fffbeb; border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" fill="none" stroke="#f59e0b" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Officer Workload</div>
                                    <div style="font-size: 13px; color: #64748b;">Workload distribution & assignments</div>
                                </div>
                            </div>
                        </div>
                        <div class="report-card" onclick="showReportSection('approval')" style="cursor: pointer; background: white; border: 2px solid #e2e8f0; border-radius: 12px; padding: 24px; transition: all 0.2s;" onmouseover="this.style.borderColor='#ef4444'" onmouseout="this.style.borderColor='#e2e8f0'">
                            <div style="display: flex; align-items: center; gap: 16px;">
                                <div style="width: 48px; height: 48px; background: #fef2f2; border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" fill="none" stroke="#ef4444" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Approval Statistics</div>
                                    <div style="font-size: 13px; color: #64748b;">Approval vs rejection rates</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Summary Reports Section -->
                    <div id="summary-report" class="report-section">
                        <div class="table-container">
                            <div class="table-header">
                                <div class="table-title">Application Summary Report</div>
                                <div class="table-controls">
                                    <button class="btn-primary" onclick="exportReport('summary', 'pdf')">Export PDF</button>
                                    <button class="btn-primary" onclick="exportReport('summary', 'excel')">Export Excel</button>
                                </div>
                            </div>
                            <div style="padding: 24px;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 32px;">
                                    <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                        <div style="font-size: 13px; color: #64748b; margin-bottom: 8px;">Total Applications</div>
                                        <div style="font-size: 32px; font-weight: 700; color: #1e293b;">341</div>
                                        <div style="font-size: 12px; color: #10b981; margin-top: 4px;"> 12% from last month</div>
                                    </div>
                                    <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                        <div style="font-size: 13px; color: #64748b; margin-bottom: 8px;">Individual IRTA</div>
                                        <div style="font-size: 32px; font-weight: 700; color: #1e293b;">142</div>
                                        <div style="font-size: 12px; color: #64748b; margin-top: 4px;">41.6% of total</div>
                                    </div>
                                    <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                        <div style="font-size: 13px; color: #64748b; margin-bottom: 8px;">Renewals</div>
                                        <div style="font-size: 32px; font-weight: 700; color: #1e293b;">67</div>
                                        <div style="font-size: 12px; color: #64748b; margin-top: 4px;">19.6% of total</div>
                                    </div>
                                    <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                        <div style="font-size: 13px; color: #64748b; margin-bottom: 8px;">Amendments</div>
                                        <div style="font-size: 32px; font-weight: 700; color: #1e293b;">43</div>
                                        <div style="font-size: 12px; color: #64748b; margin-top: 4px;">12.6% of total</div>
                                    </div>
                                </div>

                                <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px; margin-bottom: 24px;">
                                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 16px; font-size: 16px;">Monthly Application Trends</div>
                                    <div style="display: grid; grid-template-columns: repeat(12, 1fr); gap: 8px; height: 200px; align-items: end;">
                                        <div style="background: #3b82f6; height: 60%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">Jan</div>
                                        </div>
                                        <div style="background: #3b82f6; height: 75%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">Feb</div>
                                        </div>
                                        <div style="background: #3b82f6; height: 85%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">Mar</div>
                                        </div>
                                        <div style="background: #3b82f6; height: 70%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">Apr</div>
                                        </div>
                                        <div style="background: #3b82f6; height: 90%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">May</div>
                                        </div>
                                        <div style="background: #3b82f6; height: 80%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">Jun</div>
                                        </div>
                                        <div style="background: #3b82f6; height: 95%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">Jul</div>
                                        </div>
                                        <div style="background: #3b82f6; height: 100%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">Aug</div>
                                        </div>
                                        <div style="background: #3b82f6; height: 88%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">Sep</div>
                                        </div>
                                        <div style="background: #3b82f6; height: 82%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">Oct</div>
                                        </div>
                                        <div style="background: #3b82f6; height: 78%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">Nov</div>
                                        </div>
                                        <div style="background: #3b82f6; height: 85%; border-radius: 4px 4px 0 0; position: relative;">
                                            <div style="position: absolute; bottom: -20px; left: 0; right: 0; text-align: center; font-size: 11px; color: #64748b;">Dec</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Performance Metrics Section -->
                    <div id="performance-report" class="report-section" style="display: none;">
                        <div class="table-container">
                            <div class="table-header">
                                <div class="table-title">Performance Metrics Report</div>
                                <div class="table-controls">
                                    <button class="btn-primary" onclick="exportReport('performance', 'pdf')">Export PDF</button>
                                    <button class="btn-primary" onclick="exportReport('performance', 'excel')">Export Excel</button>
                                </div>
                            </div>
                            <div style="padding: 24px;">
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 32px;">
                                    <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                        <div style="font-size: 13px; color: #64748b; margin-bottom: 8px;">Average Processing Time</div>
                                        <div style="font-size: 32px; font-weight: 700; color: #1e293b;">4.2 days</div>
                                        <div style="font-size: 12px; color: #10b981; margin-top: 4px;"> 0.8 days from last month</div>
                                    </div>
                                    <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                        <div style="font-size: 13px; color: #64748b; margin-bottom: 8px;">Fastest Processing</div>
                                        <div style="font-size: 32px; font-weight: 700; color: #1e293b;">1.5 days</div>
                                        <div style="font-size: 12px; color: #64748b; margin-top: 4px;">Individual IRTA</div>
                                    </div>
                                    <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                        <div style="font-size: 13px; color: #64748b; margin-bottom: 8px;">Longest Processing</div>
                                        <div style="font-size: 32px; font-weight: 700; color: #1e293b;">12.3 days</div>
                                        <div style="font-size: 12px; color: #64748b; margin-top: 4px;">Individual IRTA</div>
                                    </div>
                                </div>

                                <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px;">
                                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 16px; font-size: 16px;">Processing Time by Application Type</div>
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr style="border-bottom: 2px solid #e2e8f0;">
                                                <th style="text-align: left; padding: 12px; color: #64748b; font-weight: 600; font-size: 13px;">Application Type</th>
                                                <th style="text-align: right; padding: 12px; color: #64748b; font-weight: 600; font-size: 13px;">Average Days</th>
                                                <th style="text-align: right; padding: 12px; color: #64748b; font-weight: 600; font-size: 13px;">Min Days</th>
                                                <th style="text-align: right; padding: 12px; color: #64748b; font-weight: 600; font-size: 13px;">Max Days</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="border-bottom: 1px solid #f1f5f9;">
                                                <td style="padding: 12px; color: #1e293b;">Individual IRTA</td>
                                                <td style="padding: 12px; text-align: right; color: #1e293b; font-weight: 600;">3.1</td>
                                                <td style="padding: 12px; text-align: right; color: #64748b;">1.5</td>
                                                <td style="padding: 12px; text-align: right; color: #64748b;">8.2</td>
                                            </tr>
                                            <tr style="border-bottom: 1px solid #f1f5f9;">
                                                <td style="padding: 12px; color: #1e293b;">Renewal</td>
                                                <td style="padding: 12px; text-align: right; color: #1e293b; font-weight: 600;">2.4</td>
                                                <td style="padding: 12px; text-align: right; color: #64748b;">1.2</td>
                                                <td style="padding: 12px; text-align: right; color: #64748b;">6.5</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 12px; color: #1e293b;">Amendment</td>
                                                <td style="padding: 12px; text-align: right; color: #1e293b; font-weight: 600;">3.6</td>
                                                <td style="padding: 12px; text-align: right; color: #64748b;">1.8</td>
                                                <td style="padding: 12px; text-align: right; color: #64748b;">9.1</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Officer Workload Section -->
                    <div id="officer-report" class="report-section" style="display: none;">
                        <div class="table-container">
                            <div class="table-header">
                                <div class="table-title">Officer Workload Summary</div>
                                <div class="table-controls">
                                    <button class="btn-primary" onclick="exportReport('officer', 'pdf')">Export PDF</button>
                                    <button class="btn-primary" onclick="exportReport('officer', 'excel')">Export Excel</button>
                                </div>
                            </div>
                            <div style="padding: 24px;">
                                <div class="table-wrapper">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Officer Name</th>
                                                <th>Total Assigned</th>
                                                <th>Pending</th>
                                                <th>In Process</th>
                                                <th>Completed</th>
                                                <th>Avg Processing Time</th>
                                                <th>Workload %</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><strong>John Doe</strong></td>
                                                <td>45</td>
                                                <td>8</td>
                                                <td>12</td>
                                                <td>25</td>
                                                <td>3.8 days</td>
                                                <td><span class="status-badge" style="background: #10b981; color: white;">85%</span></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Sarah Johnson</strong></td>
                                                <td>52</td>
                                                <td>6</td>
                                                <td>15</td>
                                                <td>31</td>
                                                <td>4.1 days</td>
                                                <td><span class="status-badge" style="background: #f59e0b; color: white;">95%</span></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Michael Chen</strong></td>
                                                <td>38</td>
                                                <td>5</td>
                                                <td>10</td>
                                                <td>23</td>
                                                <td>3.5 days</td>
                                                <td><span class="status-badge" style="background: #10b981; color: white;">72%</span></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Emily Watson</strong></td>
                                                <td>41</td>
                                                <td>7</td>
                                                <td>11</td>
                                                <td>23</td>
                                                <td>4.3 days</td>
                                                <td><span class="status-badge" style="background: #10b981; color: white;">78%</span></td>
                                            </tr>
                                            <tr>
                                                <td><strong>David Brown</strong></td>
                                                <td>29</td>
                                                <td>4</td>
                                                <td>8</td>
                                                <td>17</td>
                                                <td>3.2 days</td>
                                                <td><span class="status-badge" style="background: #3b82f6; color: white;">55%</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Approval Statistics Section -->
                    <div id="approval-report" class="report-section" style="display: none;">
                        <div class="table-container">
                            <div class="table-header">
                                <div class="table-title">Approval vs Rejection Statistics</div>
                                <div class="table-controls">
                                    <button class="btn-primary" onclick="exportReport('approval', 'pdf')">Export PDF</button>
                                    <button class="btn-primary" onclick="exportReport('approval', 'excel')">Export Excel</button>
                                </div>
                            </div>
                            <div style="padding: 24px;">
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 32px;">
                                    <div style="background: #f0fdf4; padding: 24px; border-radius: 8px; border: 1px solid #10b981;">
                                        <div style="font-size: 13px; color: #047857; margin-bottom: 8px;">Total Approved</div>
                                        <div style="font-size: 48px; font-weight: 700; color: #10b981;">289</div>
                                        <div style="font-size: 14px; color: #047857; margin-top: 8px;">84.8% approval rate</div>
                                    </div>
                                    <div style="background: #fef2f2; padding: 24px; border-radius: 8px; border: 1px solid #ef4444;">
                                        <div style="font-size: 13px; color: #991b1b; margin-bottom: 8px;">Total Rejected</div>
                                        <div style="font-size: 48px; font-weight: 700; color: #ef4444;">52</div>
                                        <div style="font-size: 14px; color: #991b1b; margin-top: 8px;">15.2% rejection rate</div>
                                    </div>
                                </div>

                                <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px;">
                                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 16px; font-size: 16px;">Approval Rate by Application Type</div>
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr style="border-bottom: 2px solid #e2e8f0;">
                                                <th style="text-align: left; padding: 12px; color: #64748b; font-weight: 600; font-size: 13px;">Application Type</th>
                                                <th style="text-align: right; padding: 12px; color: #64748b; font-weight: 600; font-size: 13px;">Approved</th>
                                                <th style="text-align: right; padding: 12px; color: #64748b; font-weight: 600; font-size: 13px;">Rejected</th>
                                                <th style="text-align: right; padding: 12px; color: #64748b; font-weight: 600; font-size: 13px;">Approval Rate</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="border-bottom: 1px solid #f1f5f9;">
                                                <td style="padding: 12px; color: #1e293b;">Individual IRTA</td>
                                                <td style="padding: 12px; text-align: right; color: #10b981; font-weight: 600;">125</td>
                                                <td style="padding: 12px; text-align: right; color: #ef4444; font-weight: 600;">17</td>
                                                <td style="padding: 12px; text-align: right; color: #1e293b; font-weight: 600;">88.0%</td>
                                            </tr>
                                            <tr style="border-bottom: 1px solid #f1f5f9;">
                                                <td style="padding: 12px; color: #1e293b;">Renewal</td>
                                                <td style="padding: 12px; text-align: right; color: #10b981; font-weight: 600;">59</td>
                                                <td style="padding: 12px; text-align: right; color: #ef4444; font-weight: 600;">8</td>
                                                <td style="padding: 12px; text-align: right; color: #1e293b; font-weight: 600;">88.1%</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 12px; color: #1e293b;">Amendment</td>
                                                <td style="padding: 12px; text-align: right; color: #10b981; font-weight: 600;">30</td>
                                                <td style="padding: 12px; text-align: right; color: #ef4444; font-weight: 600;">13</td>
                                                <td style="padding: 12px; text-align: right; color: #1e293b; font-weight: 600;">69.8%</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Reports Page -->

            <!-- Form Configuration Page -->
            <div id="form-config-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">Form Configuration</h1>
                    <div class="header-actions">
                        <select class="filter-select" id="formTypeSelector" style="width: 200px;">
                            <option value="individual">Individual IRTA</option>
                            <option value="renewal">Renewal Application</option>
                            <option value="amendment">Amendment Request</option>
                            <option value="cancellation">Cancellation Request</option>
                        </select>
                        <button class="btn-primary" onclick="saveFormConfig()">Save Configuration</button>
                        <button class="btn-primary" onclick="publishFormVersion()">Publish Version</button>
                    </div>
                </div>

                <div style="padding: 24px; display: grid; grid-template-columns: 300px 1fr; gap: 24px;">
                    <!-- Form Builder Sidebar -->
                    <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; height: fit-content;">
                        <div style="font-weight: 600; color: #1e293b; margin-bottom: 16px; font-size: 15px;">Field Types</div>
                        <div style="display: grid; gap: 8px;">
                            <div class="field-type-item" draggable="true" onclick="addField('text')" style="padding: 12px; border: 1px solid #e2e8f0; border-radius: 6px; cursor: move; display: flex; align-items: center; gap: 10px; transition: all 0.2s;" onmouseover="this.style.borderColor='#3b82f6'; this.style.backgroundColor='#eff6ff'" onmouseout="this.style.borderColor='#e2e8f0'; this.style.backgroundColor='white'">
                                <svg width="20" height="20" fill="none" stroke="#64748b" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                                </svg>
                                <span style="font-size: 13px; color: #475569;">Text Field</span>
                            </div>
                            <div class="field-type-item" draggable="true" onclick="addField('number')" style="padding: 12px; border: 1px solid #e2e8f0; border-radius: 6px; cursor: move; display: flex; align-items: center; gap: 10px; transition: all 0.2s;" onmouseover="this.style.borderColor='#3b82f6'; this.style.backgroundColor='#eff6ff'" onmouseout="this.style.borderColor='#e2e8f0'; this.style.backgroundColor='white'">
                                <svg width="20" height="20" fill="none" stroke="#64748b" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 20l4-16m2 16l4-16M6 9h14M4 15h14"></path>
                                </svg>
                                <span style="font-size: 13px; color: #475569;">Number</span>
                            </div>
                            <div class="field-type-item" draggable="true" onclick="addField('date')" style="padding: 12px; border: 1px solid #e2e8f0; border-radius: 6px; cursor: move; display: flex; align-items: center; gap: 10px; transition: all 0.2s;" onmouseover="this.style.borderColor='#3b82f6'; this.style.backgroundColor='#eff6ff'" onmouseout="this.style.borderColor='#e2e8f0'; this.style.backgroundColor='white'">
                                <svg width="20" height="20" fill="none" stroke="#64748b" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                </svg>
                                <span style="font-size: 13px; color: #475569;">Date</span>
                            </div>
                            <div class="field-type-item" draggable="true" onclick="addField('dropdown')" style="padding: 12px; border: 1px solid #e2e8f0; border-radius: 6px; cursor: move; display: flex; align-items: center; gap: 10px; transition: all 0.2s;" onmouseover="this.style.borderColor='#3b82f6'; this.style.backgroundColor='#eff6ff'" onmouseout="this.style.borderColor='#e2e8f0'; this.style.backgroundColor='white'">
                                <svg width="20" height="20" fill="none" stroke="#64748b" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                                <span style="font-size: 13px; color: #475569;">Dropdown</span>
                            </div>
                            <div class="field-type-item" draggable="true" onclick="addField('checkbox')" style="padding: 12px; border: 1px solid #e2e8f0; border-radius: 6px; cursor: move; display: flex; align-items: center; gap: 10px; transition: all 0.2s;" onmouseover="this.style.borderColor='#3b82f6'; this.style.backgroundColor='#eff6ff'" onmouseout="this.style.borderColor='#e2e8f0'; this.style.backgroundColor='white'">
                                <svg width="20" height="20" fill="none" stroke="#64748b" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span style="font-size: 13px; color: #475569;">Checkbox</span>
                            </div>
                            <div class="field-type-item" draggable="true" onclick="addField('radio')" style="padding: 12px; border: 1px solid #e2e8f0; border-radius: 6px; cursor: move; display: flex; align-items: center; gap: 10px; transition: all 0.2s;" onmouseover="this.style.borderColor='#3b82f6'; this.style.backgroundColor='#eff6ff'" onmouseout="this.style.borderColor='#e2e8f0'; this.style.backgroundColor='white'">
                                <svg width="20" height="20" fill="none" stroke="#64748b" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12a3 3 0 106 0"></path>
                                </svg>
                                <span style="font-size: 13px; color: #475569;">Radio Button</span>
                            </div>
                            <div class="field-type-item" draggable="true" onclick="addField('file')" style="padding: 12px; border: 1px solid #e2e8f0; border-radius: 6px; cursor: move; display: flex; align-items: center; gap: 10px; transition: all 0.2s;" onmouseover="this.style.borderColor='#3b82f6'; this.style.backgroundColor='#eff6ff'" onmouseout="this.style.borderColor='#e2e8f0'; this.style.backgroundColor='white'">
                                <svg width="20" height="20" fill="none" stroke="#64748b" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                                </svg>
                                <span style="font-size: 13px; color: #475569;">File Upload</span>
                            </div>
                        </div>
                    </div>

                    <!-- Form Builder Canvas -->
                    <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                            <div>
                                <div style="font-weight: 600; color: #1e293b; font-size: 18px; margin-bottom: 4px;">Form Builder</div>
                                <div style="font-size: 13px; color: #64748b;">Drag and drop fields or click to add</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn-secondary" onclick="previewForm()">Preview</button>
                                <button class="btn-secondary" onclick="clearForm()">Clear All</button>
                            </div>
                        </div>

                        <!-- Form Sections Tabs -->
                        <div style="display: flex; gap: 8px; border-bottom: 2px solid #e2e8f0; margin-bottom: 24px; padding-bottom: 8px;">
                            <button class="form-section-tab active" onclick="switchFormSection('introduction')" style="padding: 8px 16px; background: none; border: none; border-bottom: 2px solid #3b82f6; color: #3b82f6; font-weight: 500; cursor: pointer;">Introduction</button>
                            <button class="form-section-tab" onclick="switchFormSection('representative')" style="padding: 8px 16px; background: none; border: none; border-bottom: 2px solid transparent; color: #64748b; font-weight: 500; cursor: pointer;">Representative</button>
                            <button class="form-section-tab" onclick="switchFormSection('organization')" style="padding: 8px 16px; background: none; border: none; border-bottom: 2px solid transparent; color: #64748b; font-weight: 500; cursor: pointer;">Organization</button>
                            <button class="form-section-tab" onclick="switchFormSection('transportation')" style="padding: 8px 16px; background: none; border: none; border-bottom: 2px solid transparent; color: #64748b; font-weight: 500; cursor: pointer;">Transportation</button>
                            <button class="form-section-tab" onclick="switchFormSection('declarations')" style="padding: 8px 16px; background: none; border: none; border-bottom: 2px solid transparent; color: #64748b; font-weight: 500; cursor: pointer;">Declarations</button>
                        </div>

                        <!-- Form Fields Container -->
                        <div id="formBuilderCanvas" style="min-height: 400px; padding: 20px; background: #f8fafc; border-radius: 8px; border: 2px dashed #cbd5e1;">
                            <div id="introduction-section" class="form-builder-section">
                                <div style="margin-bottom: 16px; padding: 12px; background: white; border: 1px solid #e2e8f0; border-radius: 6px; display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Full Name</div>
                                        <div style="font-size: 12px; color: #64748b;">Text Field  Required</div>
                                    </div>
                                    <div style="display: flex; gap: 8px;">
                                        <button class="btn-icon" onclick="editField(this)" style="padding: 4px 8px; font-size: 12px;">Edit</button>
                                        <button class="btn-icon" onclick="deleteField(this)" style="padding: 4px 8px; font-size: 12px; color: #ef4444;">Delete</button>
                                    </div>
                                </div>
                                <div style="margin-bottom: 16px; padding: 12px; background: white; border: 1px solid #e2e8f0; border-radius: 6px; display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Date of Birth</div>
                                        <div style="font-size: 12px; color: #64748b;">Date Field  Required</div>
                                    </div>
                                    <div style="display: flex; gap: 8px;">
                                        <button class="btn-icon" onclick="editField(this)" style="padding: 4px 8px; font-size: 12px;">Edit</button>
                                        <button class="btn-icon" onclick="deleteField(this)" style="padding: 4px 8px; font-size: 12px; color: #ef4444;">Delete</button>
                                    </div>
                                </div>
                                <div style="margin-bottom: 16px; padding: 12px; background: white; border: 1px solid #e2e8f0; border-radius: 6px; display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Nationality</div>
                                        <div style="font-size: 12px; color: #64748b;">Dropdown  Required</div>
                                    </div>
                                    <div style="display: flex; gap: 8px;">
                                        <button class="btn-icon" onclick="editField(this)" style="padding: 4px 8px; font-size: 12px;">Edit</button>
                                        <button class="btn-icon" onclick="deleteField(this)" style="padding: 4px 8px; font-size: 12px; color: #ef4444;">Delete</button>
                                    </div>
                                </div>
                            </div>
                            <div id="representative-section" class="form-builder-section" style="display: none;">
                                <div style="text-align: center; padding: 40px; color: #94a3b8;">No fields added to this section yet. Drag fields here or click field types to add.</div>
                            </div>
                            <div id="organization-section" class="form-builder-section" style="display: none;">
                                <div style="text-align: center; padding: 40px; color: #94a3b8;">No fields added to this section yet. Drag fields here or click field types to add.</div>
                            </div>
                            <div id="transportation-section" class="form-builder-section" style="display: none;">
                                <div style="text-align: center; padding: 40px; color: #94a3b8;">No fields added to this section yet. Drag fields here or click field types to add.</div>
                            </div>
                            <div id="declarations-section" class="form-builder-section" style="display: none;">
                                <div style="text-align: center; padding: 40px; color: #94a3b8;">No fields added to this section yet. Drag fields here or click field types to add.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Field Configuration Modal -->
                <div id="fieldConfigModal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
                    <div style="background: white; border-radius: 12px; padding: 24px; width: 500px; max-height: 80vh; overflow-y: auto;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="font-size: 18px; font-weight: 600; color: #1e293b;">Field Configuration</h3>
                            <button onclick="closeFieldConfig()" style="background: none; border: none; font-size: 24px; color: #64748b; cursor: pointer;">&times;</button>
                        </div>
                        <div style="display: grid; gap: 16px;">
                            <div>
                                <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 6px;">Field Label</label>
                                <input type="text" class="search-box" placeholder="Enter field label" style="width: 100%;">
                            </div>
                            <div>
                                <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 6px;">Field Type</label>
                                <select class="filter-select" style="width: 100%;">
                                    <option>Text</option>
                                    <option>Number</option>
                                    <option>Date</option>
                                    <option>Dropdown</option>
                                    <option>Checkbox</option>
                                    <option>Radio</option>
                                    <option>File Upload</option>
                                </select>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <input type="checkbox" id="requiredField">
                                <label for="requiredField" style="color: #475569;">Required Field</label>
                            </div>
                            <div>
                                <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 6px;">Validation Rules</label>
                                <div style="display: grid; gap: 8px;">
                                    <input type="text" class="search-box" placeholder="Min Length" style="width: 100%;">
                                    <input type="text" class="search-box" placeholder="Max Length" style="width: 100%;">
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px; margin-top: 8px;">
                                <button class="btn-primary" style="flex: 1;" onclick="saveFieldConfig()">Save</button>
                                <button class="btn-secondary" style="flex: 1;" onclick="closeFieldConfig()">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Form Configuration Page -->

            <!-- New Application Page -->
            <div id="new-application-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">New IRTA Application</h1>
                    <div class="header-actions">
                        <button class="btn-secondary" onclick="saveDraft()">Save Draft</button>
                        <button class="btn-secondary" onclick="exitApplication()">Exit</button>
                    </div>
                </div>

                <div style="padding: 24px; max-width: 1200px; margin: 0 auto;">
                    <!-- Application Wizard Progress -->
                    <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px; margin-bottom: 24px;">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
                            <div class="wizard-progress-step" data-step="1" onclick="goToStep(1)" style="flex: 1; text-align: center; position: relative; cursor: pointer;">
                                <div id="progress-step-1" style="width: 40px; height: 40px; border-radius: 50%; background: #3b82f6; color: white; display: flex; align-items: center; justify-content: center; font-weight: 600; margin: 0 auto 8px;">1</div>
                                <div style="font-size: 13px; font-weight: 600; color: #3b82f6;">Introduction</div>
                                <div style="position: absolute; top: 20px; left: 60%; width: 100%; height: 2px; background: #e2e8f0; z-index: -1;"></div>
                            </div>
                            <div class="wizard-progress-step" data-step="2" onclick="goToStep(2)" style="flex: 1; text-align: center; position: relative; cursor: pointer;">
                                <div id="progress-step-2" style="width: 40px; height: 40px; border-radius: 50%; background: #e2e8f0; color: #64748b; display: flex; align-items: center; justify-content: center; font-weight: 600; margin: 0 auto 8px;">2</div>
                                <div id="progress-label-2" style="font-size: 13px; font-weight: 500; color: #64748b;">Representative</div>
                                <div style="position: absolute; top: 20px; left: 60%; width: 100%; height: 2px; background: #e2e8f0; z-index: -1;"></div>
                            </div>
                            <div class="wizard-progress-step" data-step="3" onclick="goToStep(3)" style="flex: 1; text-align: center; position: relative; cursor: pointer;">
                                <div id="progress-step-3" style="width: 40px; height: 40px; border-radius: 50%; background: #e2e8f0; color: #64748b; display: flex; align-items: center; justify-content: center; font-weight: 600; margin: 0 auto 8px;">3</div>
                                <div id="progress-label-3" style="font-size: 13px; font-weight: 500; color: #64748b;">Organization</div>
                                <div style="position: absolute; top: 20px; left: 60%; width: 100%; height: 2px; background: #e2e8f0; z-index: -1;"></div>
                            </div>
                            <div class="wizard-progress-step" data-step="4" onclick="goToStep(4)" style="flex: 1; text-align: center; position: relative; cursor: pointer;">
                                <div id="progress-step-4" style="width: 40px; height: 40px; border-radius: 50%; background: #e2e8f0; color: #64748b; display: flex; align-items: center; justify-content: center; font-weight: 600; margin: 0 auto 8px;">4</div>
                                <div id="progress-label-4" style="font-size: 13px; font-weight: 500; color: #64748b;">Transportation</div>
                                <div style="position: absolute; top: 20px; left: 60%; width: 100%; height: 2px; background: #e2e8f0; z-index: -1;"></div>
                            </div>
                            <div class="wizard-progress-step" data-step="5" onclick="goToStep(5)" style="flex: 1; text-align: center; cursor: pointer;">
                                <div id="progress-step-5" style="width: 40px; height: 40px; border-radius: 50%; background: #e2e8f0; color: #64748b; display: flex; align-items: center; justify-content: center; font-weight: 600; margin: 0 auto 8px;">5</div>
                                <div id="progress-label-5" style="font-size: 13px; font-weight: 500; color: #64748b;">Declarations</div>
                            </div>
                        </div>
                    </div>

                    <!-- Form Content -->
                    <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 32px; max-height: calc(100vh - 300px); overflow-y: auto;">
                        <!-- Introduction Step -->
                        <div id="application-step-1" class="application-step">
                            <div style="margin-bottom: 32px;">
                                <h2 style="font-size: 28px; font-weight: 700; color: #1e293b; margin-bottom: 16px;">IRTA Document of Competence</h2>
                                <p style="font-size: 16px; color: #475569; line-height: 1.6; margin-bottom: 32px;">
                                    Welcome to the official application portal for the International Road Transport Agreement (IRTA) between the Cooperative Republic of Guyana and the Federative Republic of Brazil.
                                </p>
                            </div>

                            <div class="form-section">
                                <div class="section-title">
                                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                    </svg>
                                    Application Overview
                                </div>
                                <div style="background: #f8fafc; padding: 24px; border-radius: 8px; margin-bottom: 24px; border: 1px solid #e2e8f0;">
                                    <p style="color: #475569; line-height: 1.6; margin-bottom: 20px; font-size: 15px;">
                                        This application is for firms seeking a <strong>Document of Competence</strong> to operate international road transport services between Guyana and Brazil. The process involves several steps:
                                    </p>
                                    <ul style="color: #475569; line-height: 2; padding-left: 24px; margin-bottom: 20px;">
                                        <li><strong>Representative Information:</strong> Details of the firm's legal representative.</li>
                                        <li><strong>Organization Details:</strong> Information about your firm and its legal status.</li>
                                        <li><strong>Transportation Details:</strong> Nature of transport and vehicle information.</li>
                                        <li><strong>Declarations:</strong> Final review and legal declarations.</li>
                                    </ul>
                                    <div style="background: #eff6ff; border-left: 4px solid #3b82f6; padding: 16px; border-radius: 4px; margin-top: 20px;">
                                        <div style="font-weight: 600; color: #1e40af; margin-bottom: 4px;">Note:</div>
                                        <div style="color: #1e40af; font-size: 14px;">
                                            Please ensure you have all required documents (Registration, Insurance, Fitness, etc.) in digital format (PDF or Image) before starting.
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div style="display: flex; justify-content: flex-end; gap: 12px; margin-top: 32px; padding-top: 24px; border-top: 1px solid #e2e8f0;">
                                <button class="btn-secondary" onclick="saveDraft()">Save Draft</button>
                                <button class="btn-primary" onclick="nextStep(2)">Next: Representative</button>
                            </div>
                        </div>

                        <!-- Representative Step (Hidden by default) -->
                        <div id="application-step-2" class="application-step" style="display: none;">
                            <h2 style="font-size: 24px; font-weight: 600; color: #1e293b; margin-bottom: 24px;">Representative Information</h2>
                            <p style="color: #64748b; margin-bottom: 24px;">Provide details of the firm's legal representative.</p>
                            
                            <div class="representative-item" style="background: rgba(255, 255, 255, 0.5); padding: 30px; border-radius: 12px; border: 1px solid rgba(226, 232, 240, 0.5); margin-bottom: 30px; position: relative; transition: all 0.3s ease;">
                                <h3 style="margin-top: 0; margin-bottom: 25px; display: flex; align-items: center; gap: 12px; font-size: 18px; font-weight: 600; color: #1e293b;">
                                    <span style="width: 32px; height: 32px; background: #3b82f6; color: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 600;">1</span>
                                    Primary Representative
                                </h3>
                                
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Full Name <span class="required" style="color: #ef4444;">*</span></label>
                                        <input type="text" name="representative[0][full_name]" value="calton dick" readonly style="background: rgba(241, 245, 249, 0.5); cursor: not-allowed; width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 6px; font-size: 14px;" disabled>
                                        <small style="display: block; margin-top: 5px; color: #64748b; font-size: 12px;">Information from your account profile</small>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Email Address <span class="required" style="color: #ef4444;">*</span></label>
                                        <input type="email" name="representative[0][email]" value="neuereatec@gmail.com" readonly style="background: rgba(241, 245, 249, 0.5); cursor: not-allowed; width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 6px; font-size: 14px;" disabled>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Phone Number <span class="required" style="color: #ef4444;">*</span></label>
                                        <input type="tel" name="representative[0][phone]" placeholder="e.g., +592-226-2444" disabled value="+5926690857" required style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 6px; font-size: 14px; opacity: 0.6; cursor: not-allowed;">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">National ID / Passport</label>
                                        <input type="text" name="representative[0][id_number]" placeholder="Enter ID or passport number" disabled value="567898" style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 6px; font-size: 14px; opacity: 0.6; cursor: not-allowed;">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Date of Birth <span class="required" style="color: #ef4444;">*</span></label>
                                        <input type="date" name="representative[0][date_of_birth]" id="date_of_birth_0" max="2005-01-01" disabled value="2004-06-23" required style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 6px; font-size: 14px; opacity: 0.6; cursor: not-allowed;">
                                        <small style="display: block; margin-top: 5px; color: #64748b; font-size: 12px;">Must be 21 years or older</small>
                                    </div>
                                    
                                    <div class="form-group" style="grid-column: 1 / -1;">
                                        <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Residential Address <span class="required" style="color: #ef4444;">*</span></label>
                                        <textarea rows="3" name="representative[0][address]" placeholder="Enter complete residential address" disabled style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 6px; font-size: 14px; opacity: 0.6; cursor: not-allowed; resize: vertical;">1001 glasgow</textarea>
                                    </div>
                                    
                                    <div class="form-group" style="grid-column: 1 / -1;">
                                        <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Public Proxy Instrument</label>
                                        <input type="file" name="representative[0][public_proxy_instrument]" accept=".pdf,.jpg,.jpeg,.png" disabled style="opacity: 0.5; cursor: not-allowed; width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 6px; font-size: 14px;">
                                        <small style="display: block; margin-top: 5px; color: #64748b; font-size: 12px;">Upload Public Proxy Instrument granting legal Representative in Brazil full powers (English & Portuguese)</small>
                                    </div>
                                </div>
                            </div>

                            <div style="margin-bottom: 32px; margin-top: -10px;">
                                <button type="button" id="add-representative-btn" onclick="addRepresentative()" class="reset-btn" style="display: inline-flex; align-items: center; gap: 8px; opacity: 0.5; cursor: not-allowed; background: none; border: none; color: #64748b; font-size: 14px; font-weight: 500; padding: 8px 0;" disabled>
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <line x1="12" y1="5" x2="12" y2="19"></line>
                                        <line x1="5" y1="12" x2="19" y2="12"></line>
                                    </svg>
                                    Add Another Representative
                                </button>
                            </div>

                            <div style="display: flex; justify-content: space-between; gap: 12px; margin-top: 32px; padding-top: 24px; border-top: 1px solid #e2e8f0;">
                                <button class="btn-secondary" onclick="previousStep(1)">Previous</button>
                                <div style="display: flex; gap: 12px;">
                                    <button class="btn-secondary" onclick="saveDraft()">Save Draft</button>
                                    <button class="btn-primary" onclick="nextStep(3)">Next: Organization</button>
                                </div>
                            </div>
                        </div>

                        <!-- Organization Step (Hidden by default) -->
                        <div id="application-step-3" class="application-step" style="display: none;">
                            <h2 style="font-size: 24px; font-weight: 600; color: #1e293b; margin-bottom: 24px;">Organization Details</h2>
                            <p style="color: #64748b; margin-bottom: 24px;">Provide information about your firm and its legal status.</p>
                            
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 32px;">
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Name of Firm *</label>
                                    <input type="text" class="search-box" placeholder="Enter firm name" style="width: 100%;" required>
                                </div>
                                <div style="grid-column: 1 / -1;">
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Legal Address of Firm *</label>
                                    <textarea class="search-box" placeholder="Enter legal address" style="width: 100%; min-height: 80px; resize: vertical;" required></textarea>
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Legal Representative in Country of Origin *</label>
                                    <input type="text" class="search-box" placeholder="Enter representative name" style="width: 100%;" required>
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Tax Identification Number (TIN)</label>
                                    <input type="text" class="search-box" placeholder="Enter TIN" style="width: 100%;">
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Company Registration Number</label>
                                    <input type="text" class="search-box" placeholder="Enter registration number" style="width: 100%;">
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Telephone Number</label>
                                    <input type="tel" class="search-box" placeholder="e.g., 226-2444" style="width: 100%;">
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Fax Number</label>
                                    <input type="tel" class="search-box" placeholder="e.g., 226-2740" style="width: 100%;">
                                </div>
                                <div style="grid-column: 1 / -1;">
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Company Registration Certificate *</label>
                                    <div style="border: 2px dashed #cbd5e1; border-radius: 8px; padding: 24px; text-align: center; background: #f8fafc;">
                                        <svg width="48" height="48" fill="none" stroke="#94a3b8" viewBox="0 0 24 24" style="margin: 0 auto 12px;">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                        </svg>
                                        <div style="font-weight: 500; color: #475569; margin-bottom: 4px;">Click to upload or drag and drop</div>
                                        <div style="font-size: 13px; color: #94a3b8;">PDF or Image (Max 10MB)</div>
                                        <input type="file" style="display: none;" accept=".pdf,.jpg,.jpeg,.png">
                                    </div>
                                    <div style="font-size: 12px; color: #64748b; margin-top: 8px;">Upload a clear copy of your company registration certificate</div>
                                </div>
                            </div>

                            <div style="display: flex; justify-content: space-between; gap: 12px; margin-top: 32px; padding-top: 24px; border-top: 1px solid #e2e8f0;">
                                <button class="btn-secondary" onclick="previousStep(2)">Previous</button>
                                <div style="display: flex; gap: 12px;">
                                    <button class="btn-secondary" onclick="saveDraft()">Save Draft</button>
                                    <button class="btn-primary" onclick="nextStep(4)">Next: Transportation</button>
                                </div>
                            </div>
                        </div>

                        <!-- Transportation Step (Hidden by default) -->
                        <div id="application-step-4" class="application-step" style="display: none;">
                            <h2 style="font-size: 24px; font-weight: 600; color: #1e293b; margin-bottom: 24px;">Transportation Details</h2>
                            <p style="color: #64748b; margin-bottom: 16px;">Specify your transport operations, routes, and vehicle information.</p>
                            
                            <div style="background: #eff6ff; border: 1px solid #3b82f6; border-radius: 8px; padding: 16px; margin-bottom: 24px; display: flex; align-items: start; gap: 12px;">
                                <div style="width: 24px; height: 24px; border-radius: 50%; background-color: #3b82f6; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">i</div>
                                <div>
                                    <div style="font-weight: 600; color: #1e40af; margin-bottom: 4px;">Transportation Locked</div>
                                    <div style="color: #1e40af; font-size: 14px;">Transportation details are locked, but you can still add new vehicles authorized for international road transport.</div>
                                </div>
                            </div>

                            <div style="margin-bottom: 32px;">
                                <h3 style="font-size: 18px; font-weight: 600; color: #1e293b; margin-bottom: 20px;">Transport Operations</h3>
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                                    <div>
                                        <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Nature of Transport *</label>
                                        <div style="display: flex; flex-direction: column; gap: 8px;">
                                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                                <input type="radio" name="natureOfTransport" value="goods" required>
                                                <span>Goods (Cargo)</span>
                                            </label>
                                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                                <input type="radio" name="natureOfTransport" value="passenger" required>
                                                <span>Passenger</span>
                                            </label>
                                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                                <input type="radio" name="natureOfTransport" value="both" required>
                                                <span>Both Goods and Passenger</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div>
                                        <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Modality of Traffic *</label>
                                        <input type="text" class="search-box" value="Bilateral with traffic through common border" style="width: 100%;" required>
                                    </div>
                                    <div>
                                        <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Origin *</label>
                                        <select id="transportOrigin" class="filter-select" style="width: 100%;" required>
                                            <option value="">Select origin</option>
                                            <option selected>Cooperative Republic of Guyana</option>
                                            <option>Federative Republic of Brazil</option>
                                        </select>
                                    </div>
                                    <div style="display: flex; align-items: flex-end; justify-content: center; padding-bottom: 0;">
                                        <button type="button" onclick="swapOriginDestination()" style="width: 40px; height: 40px; border: 1px solid #cbd5e1; border-radius: 6px; background: white; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; margin-top: 24px;" onmouseover="this.style.borderColor='#3b82f6'; this.style.background='#f0f9ff'; this.style.color='#3b82f6'" onmouseout="this.style.borderColor='#cbd5e1'; this.style.background='white'; this.style.color='#64748b'" title="Swap Origin and Destination">
                                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
                                            </svg>
                                        </button>
                                    </div>
                                    <div>
                                        <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Destination *</label>
                                        <select id="transportDestination" class="filter-select" style="width: 100%;" required>
                                            <option value="">Select destination</option>
                                            <option>Cooperative Republic of Guyana</option>
                                            <option selected>Federative Republic of Brazil</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div style="margin-bottom: 32px;">
                                <h3 style="font-size: 18px; font-weight: 600; color: #1e293b; margin-bottom: 20px;">Vehicle Information</h3>
                                <p style="color: #64748b; font-size: 14px; margin-bottom: 20px;">Add vehicles authorized for international road transport.</p>

                                <div style="margin-bottom: 32px;">
                                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 16px; font-size: 15px;">Submitted Vehicles</div>
                                    <div style="display: grid; gap: 12px;">
                                        <div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 16px;">
                                            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                                <div>
                                                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Vehicle 1</div>
                                                    <div style="color: #64748b; font-size: 14px;">Bus  VW (1999)</div>
                                                </div>
                                                <span class="status-badge status-pending">Pending</span>
                                            </div>
                                            <div style="color: #475569; font-size: 13px;">Plate: gab6862</div>
                                        </div>
                                        <div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 16px;">
                                            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                                <div>
                                                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Vehicle 2</div>
                                                    <div style="color: #64748b; font-size: 14px;">Bus  VW (1999)</div>
                                                </div>
                                                <span class="status-badge status-pending">Pending</span>
                                            </div>
                                            <div style="color: #475569; font-size: 13px;">Plate: gab6862</div>
                                        </div>
                                    </div>
                                </div>

                                <div style="border-top: 2px solid #e2e8f0; padding-top: 24px;">
                                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 20px; font-size: 15px;">New Vehicle Details</div>
                                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 32px;">
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Vehicle Type *</label>
                                            <select class="filter-select" style="width: 100%;" required>
                                                <option value="">Select type</option>
                                                <option>Bus</option>
                                                <option>Truck</option>
                                                <option>Van</option>
                                                <option>Other</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Year</label>
                                            <input type="text" class="search-box" placeholder="e.g., 2020" style="width: 100%;">
                                        </div>
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Make</label>
                                            <select class="filter-select" style="width: 100%;">
                                                <option value="">Select make</option>
                                                <option>VW</option>
                                                <option>Mercedes</option>
                                                <option>Toyota</option>
                                                <option>Ford</option>
                                                <option>Other</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Body Type</label>
                                            <input type="text" class="search-box" placeholder="e.g., Flatbed" style="width: 100%;">
                                        </div>
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Chassis Number</label>
                                            <input type="text" class="search-box" placeholder="Enter chassis number" style="width: 100%;">
                                        </div>
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Axles / Eixos</label>
                                            <input type="number" class="search-box" placeholder="Number of axles" style="width: 100%;">
                                        </div>
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">MTC (Maximum Total Capacity) / CMT</label>
                                            <input type="text" class="search-box" placeholder="MTC in tons" style="width: 100%;">
                                        </div>
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">NWC (Net Weight Capacity) / CCU</label>
                                            <input type="text" class="search-box" placeholder="NWC in tons" style="width: 100%;">
                                        </div>
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Tare Weight / TARA</label>
                                            <input type="text" class="search-box" placeholder="Tare in tons" style="width: 100%;">
                                        </div>
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Plate Number / Placa *</label>
                                            <input type="text" class="search-box" placeholder="License plate" style="width: 100%;" required>
                                        </div>
                                    </div>

                                    <div style="margin-top: 32px;">
                                        <h4 style="font-size: 16px; font-weight: 600; color: #1e293b; margin-bottom: 20px;">Vehicle Documents</h4>
                                        <div style="display: grid; gap: 16px;">
                                            <div style="border: 1px dashed #cbd5e1; border-radius: 8px; padding: 16px; background: #f8fafc;">
                                                <div style="font-weight: 500; color: #1e293b; margin-bottom: 8px;">1. Vehicle Registration Certificate *</div>
                                                <div style="color: #64748b; font-size: 13px; margin-bottom: 8px;">No file chosen</div>
                                                <div style="color: #64748b; font-size: 12px; margin-bottom: 8px;">Upload registration certificate for this vehicle</div>
                                                <input type="file" style="display: none;" accept=".pdf,.jpg,.jpeg,.png">
                                            </div>
                                            <div style="border: 1px dashed #cbd5e1; border-radius: 8px; padding: 16px; background: #f8fafc;">
                                                <div style="font-weight: 500; color: #1e293b; margin-bottom: 8px;">2. Revenue Licence *</div>
                                                <div style="color: #64748b; font-size: 13px; margin-bottom: 8px;">No file chosen</div>
                                                <div style="color: #64748b; font-size: 12px; margin-bottom: 8px;">Upload revenue licence for this vehicle</div>
                                                <input type="file" style="display: none;" accept=".pdf,.jpg,.jpeg,.png">
                                            </div>
                                            <div style="border: 1px dashed #cbd5e1; border-radius: 8px; padding: 16px; background: #f8fafc;">
                                                <div style="font-weight: 500; color: #1e293b; margin-bottom: 8px;">3. Certificate of Fitness *</div>
                                                <div style="color: #64748b; font-size: 13px; margin-bottom: 8px;">No file chosen</div>
                                                <div style="color: #64748b; font-size: 12px; margin-bottom: 8px;">Upload certificate of fitness for this vehicle</div>
                                                <input type="file" style="display: none;" accept=".pdf,.jpg,.jpeg,.png">
                                            </div>
                                            <div style="border: 1px dashed #cbd5e1; border-radius: 8px; padding: 16px; background: #f8fafc;">
                                                <div style="font-weight: 500; color: #1e293b; margin-bottom: 8px;">4. Third Party Insurance *</div>
                                                <div style="color: #64748b; font-size: 13px; margin-bottom: 8px;">No file chosen</div>
                                                <div style="color: #64748b; font-size: 12px; margin-bottom: 8px;">Upload third party insurance document for this vehicle</div>
                                                <input type="file" style="display: none;" accept=".pdf,.jpg,.jpeg,.png">
                                            </div>
                                        </div>
                                    </div>

                                    <div style="margin-top: 16px;">
                                        <button type="button" onclick="addVehicle()" class="reset-btn" style="display: inline-flex; align-items: center; gap: 8px; opacity: 0.5; cursor: not-allowed; background: none; border: none; color: #64748b; font-size: 14px; font-weight: 500; padding: 8px 0;" disabled>
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                                <line x1="5" y1="12" x2="19" y2="12"></line>
                                            </svg>
                                            Add Another Vehicle
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div style="display: flex; justify-content: space-between; gap: 12px; margin-top: 32px; padding-top: 24px; border-top: 1px solid #e2e8f0;">
                                <button class="btn-secondary" onclick="previousStep(3)">Previous</button>
                                <div style="display: flex; gap: 12px;">
                                    <button class="btn-secondary" onclick="saveDraft()">Save Draft</button>
                                    <button class="btn-primary" onclick="nextStep(5)">Next: Declarations</button>
                                </div>
                            </div>
                        </div>

                        <!-- Declarations Step (Hidden by default) -->
                        <div id="application-step-5" class="application-step" style="display: none;">
                            <h2 style="font-size: 24px; font-weight: 600; color: #1e293b; margin-bottom: 24px;">Declarations</h2>
                            <p style="color: #64748b; margin-bottom: 24px;">Please review and confirm the following declarations before submitting your application.</p>
                            
                            <div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px; margin-bottom: 32px;">
                                <div style="margin-bottom: 20px;">
                                    <label style="display: flex; align-items: start; gap: 12px; cursor: pointer; margin-bottom: 16px;">
                                        <input type="checkbox" required style="margin-top: 4px;">
                                        <div>
                                            <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Legal Compliance Declaration</div>
                                            <div style="color: #64748b; font-size: 14px;">I declare that all information provided in this application is true and accurate to the best of my knowledge.</div>
                                        </div>
                                    </label>
                                    <label style="display: flex; align-items: start; gap: 12px; cursor: pointer; margin-bottom: 16px;">
                                        <input type="checkbox" required style="margin-top: 4px;">
                                        <div>
                                            <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Document Authenticity</div>
                                            <div style="color: #64748b; font-size: 14px;">I certify that all documents submitted are authentic and have not been altered or falsified.</div>
                                        </div>
                                    </label>
                                    <label style="display: flex; align-items: start; gap: 12px; cursor: pointer;">
                                        <input type="checkbox" required style="margin-top: 4px;">
                                        <div>
                                            <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Agreement to Terms</div>
                                            <div style="color: #64748b; font-size: 14px;">I agree to comply with all IRTA regulations and understand that false information may result in application rejection or legal action.</div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div style="display: flex; justify-content: space-between; gap: 12px; margin-top: 32px; padding-top: 24px; border-top: 1px solid #e2e8f0;">
                                <button class="btn-secondary" onclick="previousStep(4)">Previous</button>
                                <div style="display: flex; gap: 12px;">
                                    <button class="btn-secondary" onclick="saveDraft()">Save Draft</button>
                                    <button class="btn-primary" onclick="submitApplication()" style="background: #10b981;">Submit Application</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End New Application Page -->

            <!-- Vehicle Approval Page -->
            <div id="vehicle-approval-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">Vehicle Approval</h1>
                    <div class="header-actions">
                        <input type="text" class="search-box" placeholder="Search by plate number, chassis, or owner...">
                        <button class="btn-primary">Export to Excel</button>
                    </div>
                </div>

                <div style="padding: 24px 24px 0 24px;">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Pending Approval</div>
                            <div class="stat-value" style="color: #f59e0b;">24</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Approved</div>
                            <div class="stat-value" style="color: #10b981;">156</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Rejected</div>
                            <div class="stat-value" style="color: #ef4444;">8</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Total Vehicles</div>
                            <div class="stat-value">188</div>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">Vehicle Approval Queue</div>
                        <div class="table-controls">
                            <select class="filter-select" id="vehicleStatusFilter">
                                <option value="">All Statuses</option>
                                <option value="Pending">Pending</option>
                                <option value="Approved">Approved</option>
                                <option value="Rejected">Rejected</option>
                            </select>
                            <select class="filter-select" id="vehicleTypeFilter">
                                <option value="">All Types</option>
                                <option value="Bus">Bus</option>
                                <option value="Truck">Truck</option>
                                <option value="Van">Van</option>
                                <option value="Other">Other</option>
                            </select>
                            <button class="btn-icon"> Refresh</button>
                        </div>
                    </div>
                    <div style="padding: 0 24px 16px 24px;">
                        <div class="filter-group">
                            <span style="font-size: 14px; color: #64748b;">Showing <strong id="vehicleRowCount">24</strong> vehicles</span>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>IRTA Ref #</th>
                                    <th>Plate Number</th>
                                    <th>Vehicle Type</th>
                                    <th>Make & Model</th>
                                    <th>Owner/Company</th>
                                    <th>Submitted Date</th>
                                    <th>Status</th>
                                    <th>Reviewer</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-status="Pending" data-type="Bus">
                                    <td><strong>IRTA-2024-001234</strong></td>
                                    <td>gab6862</td>
                                    <td>Bus</td>
                                    <td>VW (1999)</td>
                                    <td>ABC Transport Co.</td>
                                    <td>2024-01-15 10:30 AM</td>
                                    <td><span class="status-badge status-pending">Pending</span></td>
                                    <td>-</td>
                                    <td>
                                        <button class="action-btn" onclick="viewVehicle('gab6862')">Review</button>
                                    </td>
                                </tr>
                                <tr data-status="Pending" data-type="Bus">
                                    <td><strong>IRTA-2024-001234</strong></td>
                                    <td>gab6862</td>
                                    <td>Bus</td>
                                    <td>VW (1999)</td>
                                    <td>ABC Transport Co.</td>
                                    <td>2024-01-15 10:30 AM</td>
                                    <td><span class="status-badge status-pending">Pending</span></td>
                                    <td>-</td>
                                    <td>
                                        <button class="action-btn" onclick="viewVehicle('gab6862')">Review</button>
                                    </td>
                                </tr>
                                <tr data-status="Approved" data-type="Truck">
                                    <td><strong>IRTA-2024-001235</strong></td>
                                    <td>gab7891</td>
                                    <td>Truck</td>
                                    <td>Mercedes (2020)</td>
                                    <td>XYZ Logistics Ltd.</td>
                                    <td>2024-01-14 2:15 PM</td>
                                    <td><span class="status-badge status-completed">Approved</span></td>
                                    <td>John Doe</td>
                                    <td>
                                        <button class="action-btn" onclick="viewVehicle('gab7891')">View</button>
                                    </td>
                                </tr>
                                <tr data-status="Approved" data-type="Van">
                                    <td><strong>IRTA-2024-001239</strong></td>
                                    <td>gab4523</td>
                                    <td>Van</td>
                                    <td>Toyota (2021)</td>
                                    <td>Fast Delivery Inc.</td>
                                    <td>2024-01-10 3:30 PM</td>
                                    <td><span class="status-badge status-completed">Approved</span></td>
                                    <td>Sarah Johnson</td>
                                    <td>
                                        <button class="action-btn" onclick="viewVehicle('gab4523')">View</button>
                                    </td>
                                </tr>
                                <tr data-status="Rejected" data-type="Bus">
                                    <td><strong>IRTA-2024-001240</strong></td>
                                    <td>gab1234</td>
                                    <td>Bus</td>
                                    <td>Ford (1995)</td>
                                    <td>City Transport LLC</td>
                                    <td>2024-01-09 8:20 AM</td>
                                    <td><span class="status-badge status-rejected">Rejected</span></td>
                                    <td>Michael Chen</td>
                                    <td>
                                        <button class="action-btn" onclick="viewVehicle('gab1234')">View</button>
                                    </td>
                                </tr>
                                <tr data-status="Pending" data-type="Truck">
                                    <td><strong>IRTA-2024-001241</strong></td>
                                    <td>gab5678</td>
                                    <td>Truck</td>
                                    <td>Volvo (2019)</td>
                                    <td>Heavy Haulers Co.</td>
                                    <td>2024-01-08 1:45 PM</td>
                                    <td><span class="status-badge status-pending">Pending</span></td>
                                    <td>-</td>
                                    <td>
                                        <button class="action-btn" onclick="viewVehicle('gab5678')">Review</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- End Vehicle Approval Page -->

            <!-- Applicant Dashboard Page -->
            <div id="applicant-dashboard-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">My IRTA Applications</h1>
                    <div class="header-actions">
                        <input type="text" class="search-box" placeholder="Search my applications...">
                        <button class="btn-primary" id="newApplicationBtn" type="button" onclick="handleNewApplication()">
                            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 6px;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            New Application
                        </button>
                    </div>
                </div>

                <div style="padding: 24px 24px 0 24px;">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">My Applications</div>
                            <div class="stat-value">3</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Draft</div>
                            <div class="stat-value" style="color: #3b82f6;">1</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Submitted</div>
                            <div class="stat-value" style="color: #f59e0b;">1</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Completed</div>
                            <div class="stat-value" style="color: #10b981;">1</div>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">My IRTA Applications</div>
                        <div class="table-controls">
                            <select class="filter-select" id="applicantStatusFilter">
                                <option value="">All Statuses</option>
                                <option value="Draft">Draft</option>
                                <option value="Submitted">Submitted</option>
                                <option value="Reception Review">Reception Review</option>
                                <option value="Verification">Verification</option>
                                <option value="Issuing Decision">Issuing Decision</option>
                                <option value="Completed">Completed</option>
                            </select>
                            <button class="btn-icon"> Refresh</button>
                        </div>
                    </div>
                    <div style="padding: 0 24px 16px 24px;">
                        <div class="filter-group">
                            <span style="font-size: 14px; color: #64748b;">Showing <strong id="applicantRowCount">3</strong> of my applications</span>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>IRTA Ref #</th>
                                    <th>Form Type</th>
                                    <th>Purpose</th>
                                    <th>Submission Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-status="Completed" onclick="viewForm('IRTA-2024-001234')">
                                    <td><strong>IRTA-2024-001234</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Employment</td>
                                    <td>2024-01-15 10:30 AM</td>
                                    <td><span class="status-badge status-completed">Completed</span></td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001234')">View</button></td>
                                </tr>
                                <tr data-status="Submitted" onclick="viewForm('IRTA-2024-001237')">
                                    <td><strong>IRTA-2024-001237</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Family Reunion</td>
                                    <td>2024-01-12 4:22 PM</td>
                                    <td><span class="status-badge status-submitted">Submitted</span></td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); viewForm('IRTA-2024-001237')">View</button></td>
                                </tr>
                                <tr data-status="Draft" onclick="viewForm('IRTA-2024-001999')">
                                    <td><strong>Draft</strong></td>
                                    <td>Individual IRTA</td>
                                    <td>Employment</td>
                                    <td>Not submitted</td>
                                    <td><span class="status-badge status-draft">Draft</span></td>
                                    <td><button class="action-btn" onclick="event.stopPropagation(); editDraft('IRTA-2024-001999')">Continue</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- End Applicant Dashboard Page -->

            <!-- System Configuration Page -->
            <div id="system-config-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">System Configuration</h1>
                    <div class="header-actions">
                        <input type="text" class="search-box" placeholder="Search settings...">
                        <button class="btn-primary">Save All Changes</button>
                    </div>
                </div>

                <div style="padding: 24px; max-height: calc(100vh - 200px); overflow-y: auto;">
                    <div style="display: grid; gap: 24px;">
                        <!-- General Settings -->
                        <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px;">
                            <h2 style="font-size: 20px; font-weight: 600; color: #1e293b; margin-bottom: 20px;">General Settings</h2>
                            <div style="display: grid; gap: 20px;">
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">System Name</label>
                                    <input type="text" class="search-box" value="IRTA Forms Management System" style="width: 100%;">
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Default Timezone</label>
                                    <select class="filter-select" style="width: 100%;">
                                        <option selected>America/Guyana (GMT-4)</option>
                                        <option>UTC (GMT+0)</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Session Timeout (minutes)</label>
                                    <input type="number" class="search-box" value="30" style="width: 100%;">
                                </div>
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <input type="checkbox" checked>
                                    <label style="font-weight: 500; color: #1e293b;">Enable Email Notifications</label>
                                </div>
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <input type="checkbox" checked>
                                    <label style="font-weight: 500; color: #1e293b;">Enable SMS Notifications</label>
                                </div>
                            </div>
                        </div>

                        <!-- Email Configuration -->
                        <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px;">
                            <h2 style="font-size: 20px; font-weight: 600; color: #1e293b; margin-bottom: 20px;">Email Configuration</h2>
                            <div style="display: grid; gap: 20px;">
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">SMTP Server</label>
                                    <input type="text" class="search-box" value="smtp.irta.gov" style="width: 100%;">
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">SMTP Port</label>
                                    <input type="number" class="search-box" value="587" style="width: 100%;">
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">From Email Address</label>
                                    <input type="email" class="search-box" value="noreply@irta.gov" style="width: 100%;">
                                </div>
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <input type="checkbox" checked>
                                    <label style="font-weight: 500; color: #1e293b;">Use SSL/TLS</label>
                                </div>
                            </div>
                        </div>

                        <!-- Security Settings -->
                        <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px;">
                            <h2 style="font-size: 20px; font-weight: 600; color: #1e293b; margin-bottom: 20px;">Security Settings</h2>
                            <div style="display: grid; gap: 20px;">
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Minimum Password Length</label>
                                    <input type="number" class="search-box" value="8" style="width: 100%;">
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Password Expiry (days)</label>
                                    <input type="number" class="search-box" value="90" style="width: 100%;">
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Max Failed Login Attempts</label>
                                    <input type="number" class="search-box" value="5" style="width: 100%;">
                                </div>
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <input type="checkbox" checked>
                                    <label style="font-weight: 500; color: #1e293b;">Require Strong Password</label>
                                </div>
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <input type="checkbox" checked>
                                    <label style="font-weight: 500; color: #1e293b;">Enable Two-Factor Authentication</label>
                                </div>
                            </div>
                        </div>

                        <!-- Backup & Maintenance -->
                        <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px;">
                            <h2 style="font-size: 20px; font-weight: 600; color: #1e293b; margin-bottom: 20px;">Backup & Maintenance</h2>
                            <div style="display: grid; gap: 20px;">
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Automatic Backup Schedule</label>
                                    <select class="filter-select" style="width: 100%;">
                                        <option>Daily</option>
                                        <option selected>Weekly</option>
                                        <option>Monthly</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Backup Retention (days)</label>
                                    <input type="number" class="search-box" value="30" style="width: 100%;">
                                </div>
                                <div style="display: flex; gap: 12px;">
                                    <button class="btn-primary">Create Backup Now</button>
                                    <button class="btn-secondary">Restore from Backup</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End System Configuration Page -->

            <!-- Database Access Page -->
            <div id="database-access-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">Database Access</h1>
                    <div class="header-actions">
                        <input type="text" class="search-box" placeholder="Search tables, queries...">
                        <button class="btn-primary">Execute Query</button>
                    </div>
                </div>

                <div style="padding: 24px; max-height: calc(100vh - 200px); overflow-y: auto;">
                    <div style="display: grid; grid-template-columns: 300px 1fr; gap: 24px;">
                        <!-- Database Tables List -->
                        <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 16px;">
                            <h3 style="font-size: 16px; font-weight: 600; color: #1e293b; margin-bottom: 16px;">Database Tables</h3>
                            <div style="display: flex; flex-direction: column; gap: 8px;">
                                <div style="padding: 8px 12px; background: #f1f5f9; border-radius: 6px; cursor: pointer; font-size: 14px;">applications</div>
                                <div style="padding: 8px 12px; background: #f1f5f9; border-radius: 6px; cursor: pointer; font-size: 14px;">users</div>
                                <div style="padding: 8px 12px; background: #f1f5f9; border-radius: 6px; cursor: pointer; font-size: 14px;">roles</div>
                                <div style="padding: 8px 12px; background: #f1f5f9; border-radius: 6px; cursor: pointer; font-size: 14px;">permissions</div>
                                <div style="padding: 8px 12px; background: #f1f5f9; border-radius: 6px; cursor: pointer; font-size: 14px;">vehicles</div>
                                <div style="padding: 8px 12px; background: #f1f5f9; border-radius: 6px; cursor: pointer; font-size: 14px;">documents</div>
                                <div style="padding: 8px 12px; background: #f1f5f9; border-radius: 6px; cursor: pointer; font-size: 14px;">workflow_history</div>
                                <div style="padding: 8px 12px; background: #f1f5f9; border-radius: 6px; cursor: pointer; font-size: 14px;">system_logs</div>
                            </div>
                        </div>

                        <!-- Query Editor and Backup/Restore -->
                        <div style="display: grid; gap: 24px;">
                            <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px;">
                                <h3 style="font-size: 16px; font-weight: 600; color: #1e293b; margin-bottom: 16px;">SQL Query Editor</h3>
                                <textarea placeholder="Enter your SQL query here..." style="width: 100%; min-height: 200px; padding: 12px; border: 1px solid #e2e8f0; border-radius: 6px; font-family: 'Courier New', monospace; font-size: 14px; resize: vertical;">SELECT * FROM applications LIMIT 100;</textarea>
                                <div style="display: flex; gap: 12px; margin-top: 16px;">
                                    <button class="btn-primary">Execute</button>
                                    <button class="btn-secondary">Clear</button>
                                    <button class="btn-secondary">Save Query</button>
                                </div>
                            </div>

                            <!-- Query Results -->
                            <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px;">
                                <h3 style="font-size: 16px; font-weight: 600; color: #1e293b; margin-bottom: 16px;">Query Results</h3>
                                <div style="color: #64748b; font-size: 14px; padding: 40px; text-align: center; border: 1px dashed #e2e8f0; border-radius: 6px;">
                                    No query executed. Enter a query and click Execute to see results.
                                </div>
                            </div>

                            <!-- Backup & Restore Data -->
                            <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 24px;">
                                <h3 style="font-size: 16px; font-weight: 600; color: #1e293b; margin-bottom: 20px;">Backup & Restore Data</h3>
                                
                                <!-- Backup Section -->
                                <div style="margin-bottom: 32px;">
                                    <h4 style="font-size: 14px; font-weight: 600; color: #475569; margin-bottom: 16px;">Create Backup</h4>
                                    <div style="display: grid; gap: 16px;">
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Backup Type</label>
                                            <select class="filter-select" style="width: 100%;">
                                                <option>Full Database Backup</option>
                                                <option>Selected Tables Only</option>
                                                <option>Structure Only (No Data)</option>
                                                <option>Data Only (No Structure)</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Backup Format</label>
                                            <select class="filter-select" style="width: 100%;">
                                                <option selected>SQL Dump (.sql)</option>
                                                <option>Compressed SQL (.sql.gz)</option>
                                                <option>CSV Export (.csv)</option>
                                            </select>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <input type="checkbox" checked>
                                            <label style="font-weight: 500; color: #1e293b;">Include system logs</label>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <input type="checkbox">
                                            <label style="font-weight: 500; color: #1e293b;">Compress backup file</label>
                                        </div>
                                        <div style="display: flex; gap: 12px;">
                                            <button class="btn-primary" onclick="createBackup()">
                                                <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 6px;">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4-4m0 0L8 8m4 4v12"></path>
                                                </svg>
                                                Create Backup Now
                                            </button>
                                            <button class="btn-secondary" onclick="scheduleBackup()">
                                                <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 6px;">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                                </svg>
                                                Schedule Backup
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Restore Section -->
                                <div style="border-top: 1px solid #e2e8f0; padding-top: 24px;">
                                    <h4 style="font-size: 14px; font-weight: 600; color: #475569; margin-bottom: 16px;">Restore from Backup</h4>
                                    <div style="background: #fef3c7; border: 1px solid #f59e0b; border-radius: 6px; padding: 12px; margin-bottom: 16px;">
                                        <div style="display: flex; align-items: start; gap: 8px;">
                                            <svg width="20" height="20" fill="none" stroke="#92400e" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                            </svg>
                                            <div style="font-size: 13px; color: #92400e;">
                                                <strong>Warning:</strong> Restoring from a backup will overwrite existing data. Make sure you have a current backup before proceeding.
                                            </div>
                                        </div>
                                    </div>
                                    <div style="display: grid; gap: 16px;">
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Select Backup File</label>
                                            <div style="border: 2px dashed #cbd5e1; border-radius: 8px; padding: 24px; text-align: center; background: #f8fafc; cursor: pointer;" onclick="document.getElementById('backupFileInput').click()">
                                                <svg width="48" height="48" fill="none" stroke="#94a3b8" viewBox="0 0 24 24" style="margin: 0 auto 12px;">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                                </svg>
                                                <div style="font-weight: 500; color: #475569; margin-bottom: 4px;">Click to upload backup file</div>
                                                <div style="font-size: 13px; color: #94a3b8;">SQL, SQL.GZ, or CSV files (Max 500MB)</div>
                                                <input type="file" id="backupFileInput" style="display: none;" accept=".sql,.sql.gz,.csv">
                                            </div>
                                        </div>
                                        <div>
                                            <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">Or Select Existing Backup</label>
                                            <select class="filter-select" style="width: 100%;">
                                                <option value="">Select from saved backups...</option>
                                                <option>backup_2024-01-15_14-30-00.sql</option>
                                                <option>backup_2024-01-14_02-00-00.sql.gz</option>
                                                <option>backup_2024-01-13_02-00-00.sql</option>
                                                <option>backup_2024-01-12_02-00-00.sql.gz</option>
                                            </select>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <input type="checkbox" id="restoreConfirm">
                                            <label style="font-weight: 500; color: #1e293b;">I understand this will overwrite existing data</label>
                                        </div>
                                        <div style="display: flex; gap: 12px;">
                                            <button class="btn-primary" style="background: #ef4444;" onclick="restoreBackup()" disabled id="restoreBtn">
                                                <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 6px;">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                                </svg>
                                                Restore from Backup
                                            </button>
                                            <button class="btn-secondary" onclick="previewBackup()">
                                                <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 6px;">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                                </svg>
                                                Preview Backup
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Backup History -->
                                <div style="border-top: 1px solid #e2e8f0; padding-top: 24px; margin-top: 24px;">
                                    <h4 style="font-size: 14px; font-weight: 600; color: #475569; margin-bottom: 16px;">Recent Backups</h4>
                                    <div style="display: grid; gap: 12px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f8fafc; border-radius: 6px;">
                                            <div>
                                                <div style="font-weight: 500; color: #1e293b; font-size: 14px;">backup_2024-01-15_14-30-00.sql</div>
                                                <div style="font-size: 12px; color: #64748b;">Created: 2024-01-15 14:30:00  Size: 45.2 MB</div>
                                            </div>
                                            <div style="display: flex; gap: 8px;">
                                                <button class="btn-icon" title="Download"></button>
                                                <button class="btn-icon" title="Delete"></button>
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f8fafc; border-radius: 6px;">
                                            <div>
                                                <div style="font-weight: 500; color: #1e293b; font-size: 14px;">backup_2024-01-14_02-00-00.sql.gz</div>
                                                <div style="font-size: 12px; color: #64748b;">Created: 2024-01-14 02:00:00  Size: 12.8 MB (compressed)</div>
                                            </div>
                                            <div style="display: flex; gap: 8px;">
                                                <button class="btn-icon" title="Download"></button>
                                                <button class="btn-icon" title="Delete"></button>
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f8fafc; border-radius: 6px;">
                                            <div>
                                                <div style="font-weight: 500; color: #1e293b; font-size: 14px;">backup_2024-01-13_02-00-00.sql</div>
                                                <div style="font-size: 12px; color: #64748b;">Created: 2024-01-13 02:00:00  Size: 44.9 MB</div>
                                            </div>
                                            <div style="display: flex; gap: 8px;">
                                                <button class="btn-icon" title="Download"></button>
                                                <button class="btn-icon" title="Delete"></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Database Access Page -->

            <!-- System Logs Page -->
            <div id="system-logs-page" class="page-section">
                <div class="header">
                    <h1 class="header-title">System Logs</h1>
                    <div class="header-actions">
                        <input type="text" class="search-box" placeholder="Search logs...">
                        <button class="btn-primary">Export Logs</button>
                        <button class="btn-secondary">Clear Old Logs</button>
                    </div>
                </div>

                <div style="padding: 24px 24px 0 24px;">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Total Logs</div>
                            <div class="stat-value">12,458</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Today</div>
                            <div class="stat-value" style="color: #3b82f6;">234</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Errors</div>
                            <div class="stat-value" style="color: #ef4444;">12</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Warnings</div>
                            <div class="stat-value" style="color: #f59e0b;">45</div>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">System Activity Logs</div>
                        <div class="table-controls">
                            <select class="filter-select" id="logLevelFilter">
                                <option value="">All Levels</option>
                                <option value="Info">Info</option>
                                <option value="Warning">Warning</option>
                                <option value="Error">Error</option>
                                <option value="Debug">Debug</option>
                            </select>
                            <select class="filter-select" id="logTypeFilter">
                                <option value="">All Types</option>
                                <option value="Login">Login</option>
                                <option value="Form">Form Action</option>
                                <option value="User">User Management</option>
                                <option value="System">System</option>
                            </select>
                            <button class="btn-icon"> Refresh</button>
                        </div>
                    </div>
                    <div style="padding: 0 24px 16px 24px;">
                        <div class="filter-group">
                            <span style="font-size: 14px; color: #64748b;">Showing <strong id="logRowCount">234</strong> log entries</span>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Timestamp</th>
                                    <th>Level</th>
                                    <th>Type</th>
                                    <th>User</th>
                                    <th>Action</th>
                                    <th>Details</th>
                                    <th>IP Address</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-level="Info" data-type="Login">
                                    <td>2024-01-15 14:32:15</td>
                                    <td><span class="status-badge" style="background: #dbeafe; color: #1e40af;">Info</span></td>
                                    <td>Login</td>
                                    <td>John Doe</td>
                                    <td>User Login</td>
                                    <td>Successful login from office network</td>
                                    <td>192.168.1.45</td>
                                </tr>
                                <tr data-level="Info" data-type="Form">
                                    <td>2024-01-15 14:28:42</td>
                                    <td><span class="status-badge" style="background: #dbeafe; color: #1e40af;">Info</span></td>
                                    <td>Form Action</td>
                                    <td>Sarah Johnson</td>
                                    <td>Application Approved</td>
                                    <td>IRTA-2024-001234 approved</td>
                                    <td>192.168.1.32</td>
                                </tr>
                                <tr data-level="Warning" data-type="System">
                                    <td>2024-01-15 14:15:20</td>
                                    <td><span class="status-badge" style="background: #fef3c7; color: #92400e;">Warning</span></td>
                                    <td>System</td>
                                    <td>System</td>
                                    <td>Backup Scheduled</td>
                                    <td>Automatic backup initiated</td>
                                    <td>N/A</td>
                                </tr>
                                <tr data-level="Error" data-type="Form">
                                    <td>2024-01-15 13:45:10</td>
                                    <td><span class="status-badge" style="background: #fee2e2; color: #991b1b;">Error</span></td>
                                    <td>Form Action</td>
                                    <td>Michael Chen</td>
                                    <td>Document Upload Failed</td>
                                    <td>File size exceeds limit for IRTA-2024-001235</td>
                                    <td>192.168.1.28</td>
                                </tr>
                                <tr data-level="Info" data-type="User">
                                    <td>2024-01-15 13:30:55</td>
                                    <td><span class="status-badge" style="background: #dbeafe; color: #1e40af;">Info</span></td>
                                    <td>User Management</td>
                                    <td>Ahmed Hassan</td>
                                    <td>User Created</td>
                                    <td>New user created: robert.kim@irta.gov</td>
                                    <td>192.168.1.10</td>
                                </tr>
                                <tr data-level="Info" data-type="Login">
                                    <td>2024-01-15 13:20:18</td>
                                    <td><span class="status-badge" style="background: #dbeafe; color: #1e40af;">Info</span></td>
                                    <td>Login</td>
                                    <td>Ahmad Mahmoud</td>
                                    <td>User Login</td>
                                    <td>Successful login</td>
                                    <td>203.0.113.45</td>
                                </tr>
                                <tr data-level="Warning" data-type="Login">
                                    <td>2024-01-15 13:05:33</td>
                                    <td><span class="status-badge" style="background: #fef3c7; color: #92400e;">Warning</span></td>
                                    <td>Login</td>
                                    <td>unknown</td>
                                    <td>Failed Login Attempt</td>
                                    <td>Invalid credentials for email@example.com</td>
                                    <td>203.0.113.12</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- End System Logs Page -->
        </div>
    </div>

    <!-- Form Detail Modal -->
    <div class="modal-overlay" id="formModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="modalTitle">IRTA Application Details</h2>
                <div style="display: flex; align-items: center; gap: 12px;">
                    <button class="btn-primary" id="downloadDocumentBtn" onclick="downloadIRTADocument()" style="display: none; padding: 8px 16px; font-size: 14px; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); color: white; border-radius: 6px; cursor: pointer;">
                        <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 6px; vertical-align: middle;">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4-4m0 0L8 8m4 4v12"></path>
                        </svg>
                        Download Document
                    </button>
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                </div>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Content will be populated by JavaScript -->
            </div>
            <div class="modal-footer" id="modalFooter">
                <button class="btn-secondary" onclick="closeModal()">Close</button>
                <button class="btn-warning" onclick="reassignForm()" id="reassignBtn" style="display: none;">Reassign</button>
                <button class="btn-danger" onclick="rejectForm()" id="rejectBtn" style="display: none;">Reject</button>
                <button class="btn-success" onclick="approveForm()" id="approveBtn" style="display: none;">Approve</button>
            </div>
        </div>
    </div>

    <!-- Vehicle Review Modal -->
    <div class="modal-overlay" id="vehicleModal">
        <div class="modal-container" style="max-width: 900px;">
            <div class="modal-header">
                <h2 id="vehicleModalTitle">Vehicle Review</h2>
                <button class="modal-close" onclick="closeVehicleModal()">&times;</button>
            </div>
            <div class="modal-body" id="vehicleModalBody" style="max-height: calc(100vh - 200px); overflow-y: auto;">
                <!-- Content will be populated by JavaScript -->
            </div>
            <div class="modal-footer" id="vehicleModalFooter">
                <button class="btn-secondary" onclick="closeVehicleModal()">Close</button>
                <button class="btn-danger" onclick="rejectVehicle(getCurrentVehiclePlate())" id="vehicleRejectBtn" style="display: none;">Reject</button>
                <button class="btn-success" onclick="approveVehicle(getCurrentVehiclePlate())" id="vehicleApproveBtn" style="display: none;">Approve</button>
            </div>
        </div>
    </div>

    <script>
        let currentFormRefNumber = '';

        function viewForm(refNumber) {
            currentFormRefNumber = refNumber;
            const modal = document.getElementById('formModal');
            const modalBody = document.getElementById('modalBody');
            const modalTitle = document.getElementById('modalTitle');
            const downloadBtn = document.getElementById('downloadDocumentBtn');
            
            modalTitle.textContent = `IRTA Application: ${refNumber}`;
            
            // Sample data - in real app, this would come from API
            const formData = getFormData(refNumber);
            
            modalBody.innerHTML = generateFormDetailHTML(formData);
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Show/hide download button based on application status
            if (downloadBtn) {
                if (formData.status === 'Approved') {
                    downloadBtn.style.display = 'inline-flex';
                    downloadBtn.setAttribute('data-ref', refNumber);
                } else {
                    downloadBtn.style.display = 'none';
                }
            }
            
            // Show/hide action buttons based on user role
            if (userRole === 'applicant') {
                const reassignBtn = document.getElementById('reassignBtn');
                const rejectBtn = document.getElementById('rejectBtn');
                const approveBtn = document.getElementById('approveBtn');
                if (reassignBtn) reassignBtn.style.display = 'none';
                if (rejectBtn) rejectBtn.style.display = 'none';
                if (approveBtn) approveBtn.style.display = 'none';
            } else {
                const reassignBtn = document.getElementById('reassignBtn');
                const rejectBtn = document.getElementById('rejectBtn');
                const approveBtn = document.getElementById('approveBtn');
                if (reassignBtn) reassignBtn.style.display = 'inline-block';
                if (rejectBtn) rejectBtn.style.display = 'inline-block';
                if (approveBtn) approveBtn.style.display = 'inline-block';
            }
        }

        function closeModal() {
            const modal = document.getElementById('formModal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        function downloadIRTADocument() {
            console.log('downloadIRTADocument called');
            
            const refNumber = currentFormRefNumber || document.getElementById('downloadDocumentBtn')?.getAttribute('data-ref');
            console.log('Ref number:', refNumber);
            
            if (!refNumber) {
                alert('Error: Application reference number not found');
                return;
            }

            // Check if pdfMake is loaded
            if (typeof pdfMake === 'undefined') {
                alert('PDF library not loaded. Please refresh the page and try again.');
                console.error('pdfMake is not defined');
                return;
            }

            console.log('pdfMake is loaded, generating PDF...');
            const formData = getFormData(refNumber);
            
            // Parse grant date
            const grantDateObj = formData.grantDate ? new Date(formData.grantDate) : new Date();
            const day = grantDateObj.getDate();
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 
                          'July', 'August', 'September', 'October', 'November', 'December'];
            const month = months[grantDateObj.getMonth()];
            const year = grantDateObj.getFullYear();

            // Note: Signature will be displayed as text in the PDF
            // In a real implementation, you would use an actual signature image file

            // Build vehicle table rows
            const vehicleRows = formData.transportation.vehicles.map(vehicle => [
                vehicle.type || 'N/A',
                vehicle.year || 'N/A',
                vehicle.make || 'N/A',
                vehicle.body || 'N/A',
                vehicle.chassis || 'N/A',
                vehicle.axles || 'N/A',
                vehicle.mtc || 'N/A',
                vehicle.nwc || 'N/A',
                vehicle.tare || 'N/A',
                vehicle.plate || 'N/A'
            ]);

            // Define PDF document
            const docDefinition = {
                pageSize: 'A4',
                pageMargins: [40, 60, 40, 60],
                content: [
                    // Main Document Page
                    {
                        text: 'Ministry of Home Affairs',
                        style: 'header',
                        alignment: 'center',
                        margin: [0, 0, 0, 10]
                    },
                    {
                        text: [
                            { text: 'Tel: No (592) 225-6221', fontSize: 9 },
                            { text: '  |  ', fontSize: 9 },
                            { text: 'Email: ps@moha.gov.gy', fontSize: 9 },
                            { text: '  |  ', fontSize: 9 },
                            { text: 'Website: www.moha.gov.gy', fontSize: 9 }
                        ],
                        alignment: 'center',
                        margin: [0, 0, 0, 5]
                    },
                    {
                        text: 'Lot 6 Brickdam, Stabroek, Georgetown, Guyana, South America',
                        fontSize: 9,
                        alignment: 'center',
                        margin: [0, 0, 0, 20]
                    },
                    {
                        text: 'IRTA Form 11 A',
                        fontSize: 10,
                        alignment: 'center',
                        margin: [0, 0, 0, 30]
                    },
                    {
                        text: 'COOPERATIVE REPUBLIC OF GUYANA',
                        style: 'title',
                        alignment: 'center',
                        margin: [0, 0, 0, 10]
                    },
                    {
                        text: `DOCUMENT OF COMPETENCE NO. ${formData.refNumber || '__________'}`,
                        fontSize: 14,
                        bold: true,
                        alignment: 'center',
                        margin: [0, 0, 0, 5]
                    },
                    {
                        text: 'Documento de idoneidade No.',
                        fontSize: 11,
                        alignment: 'center',
                        margin: [0, 0, 0, 20]
                    },
                    {
                        text: [
                            { text: 'THE MINISTRY OF HOME AFFAIRS CERTIFIES THAT THE ORIGINAL PERMISSION TO PERFORM INTERNATIONAL ROAD TRANSPORT HAS BEEN GRANTED TO THE GUYANESE FIRM NAMED BELOW IN THE FOLLOWING TERMS:\n', fontSize: 10 },
                            { text: 'A Ministry of Home Affairs certifica que, foi outorgada licena originria, para efetuar transporte rodovirio internacional, a empresa Guyanese individualizada nos seguintes termos:', fontSize: 10 }
                        ],
                        margin: [0, 0, 0, 20]
                    },
                    {
                        columns: [
                            {
                                width: '*',
                                text: [
                                    { text: '1- NAME OF FIRM:\n', fontSize: 10, bold: true },
                                    { text: 'Nome da empresa: ', fontSize: 10 },
                                    { text: formData.organization.nameOfFirm || '__________', fontSize: 10 }
                                ]
                            }
                        ],
                        margin: [0, 0, 0, 10]
                    },
                    {
                        columns: [
                            {
                                width: '*',
                                text: [
                                    { text: 'LEGAL ADDRESS:\n', fontSize: 10, bold: true },
                                    { text: 'Endereo: ', fontSize: 10 },
                                    { text: formData.organization.legalAddress || '__________', fontSize: 10 }
                                ]
                            }
                        ],
                        margin: [0, 0, 0, 20]
                    },
                    {
                        columns: [
                            {
                                width: '*',
                                text: [
                                    { text: '2- LEGAL REPRESENTATIVE OF THE FIRM IN THE COUNTRY OF ORIGIN:\n', fontSize: 10, bold: true },
                                    { text: 'Nome do representante legal da empresa No pas de origem: ', fontSize: 10 },
                                    { text: formData.organization.legalRepresentative || formData.representative.fullName || '__________', fontSize: 10 }
                                ]
                            }
                        ],
                        margin: [0, 0, 0, 20]
                    },
                    {
                        columns: [
                            {
                                width: '*',
                                text: [
                                    { text: '3- NATURE OF TRANSPORT: (goods)\n', fontSize: 10, bold: true },
                                    { text: 'Natureza do transporte: ', fontSize: 10 },
                                    { text: formData.transportation.natureOfTransport || '__________', fontSize: 10 }
                                ]
                            }
                        ],
                        margin: [0, 0, 0, 20]
                    },
                    {
                        columns: [
                            {
                                width: '50%',
                                text: [
                                    { text: '4- MODALITY OF TRAFFIC:\n', fontSize: 10, bold: true },
                                    { text: 'Modalidade do trfego: ', fontSize: 10 },
                                    { text: formData.transportation.modalityOfTraffic || '__________', fontSize: 10 }
                                ]
                            },
                            {
                                width: '50%',
                                text: [
                                    { text: 'BILATERAL WITH TRAFFIC\n', fontSize: 10, bold: true },
                                    { text: 'THROUGH COMMON BORDER\n', fontSize: 10, bold: true },
                                    { text: 'Bilateral com trfego por fronteira comum', fontSize: 10 }
                                ],
                                alignment: 'right'
                            }
                        ],
                        margin: [0, 0, 0, 20]
                    },
                    {
                        columns: [
                            {
                                width: '50%',
                                text: [
                                    { text: '5- Origin and Destination of Transport:\n', fontSize: 10, bold: true },
                                    { text: 'Origem e destino da viagem: ', fontSize: 10 },
                                    { text: `${formData.transportation.origin || 'Cooperative Republic of Guyana'} to ${formData.transportation.destination || 'Federative Republic of Brazil'} e vice-versa.`, fontSize: 10 }
                                ]
                            }
                        ],
                        margin: [0, 0, 0, 20]
                    },
                    {
                        columns: [
                            {
                                width: '*',
                                text: [
                                    { text: '6- VALIDITY: ', fontSize: 10, bold: true },
                                    { text: `${formData.validityYears || 1} YEARS.\n`, fontSize: 10 },
                                    { text: 'Vigncia: ', fontSize: 10 },
                                    { text: `${formData.validityYears || 1} Anos.`, fontSize: 10 }
                                ]
                            }
                        ],
                        margin: [0, 0, 0, 20]
                    },
                    {
                        text: `Granted in Guyana on ${day} of ${month} ${year}`,
                        fontSize: 10,
                        margin: [0, 0, 0, 5]
                    },
                    {
                        text: `Outorgados em Guyana, em ${day} de ${month} ${year}`,
                        fontSize: 10,
                        margin: [0, 0, 0, 30]
                    },
                    {
                        text: 'RESPONSIBLE AUTHORITY\nAutoridade Responsvel',
                        fontSize: 10,
                        bold: true,
                        margin: [0, 0, 0, 10]
                    },
                    {
                        canvas: [
                            {
                                type: 'line',
                                x1: 0,
                                y1: 5,
                                x2: 150,
                                y2: 5,
                                lineWidth: 1,
                                lineColor: '#000000'
                            }
                        ],
                        margin: [0, 0, 0, 10]
                    },
                    {
                        text: 'Permanent Secretary\nMinistry of Home Affairs',
                        fontSize: 10,
                        margin: [0, 0, 0, 30]
                    },
                    {
                        text: 'ANNEX: DESCRIPTION OF AUTHORISED VEHICLES\nAnexo: Descrio dos veculos habilitados',
                        fontSize: 10,
                        bold: true,
                        pageBreak: 'before'
                    },
                    // Annex Page
                    {
                        text: 'COOPERATIVE REPUBLIC OF GUYANA',
                        style: 'title',
                        alignment: 'center',
                        margin: [0, 20, 0, 10]
                    },
                    {
                        text: `ANNEX TO THE DOCUMENT OF COMPETENCE No. ${formData.refNumber || '__________'}`,
                        fontSize: 12,
                        bold: true,
                        alignment: 'center',
                        margin: [0, 0, 0, 5]
                    },
                    {
                        text: 'Anexo ao Documento de Idoneidade No.',
                        fontSize: 11,
                        alignment: 'center',
                        margin: [0, 0, 0, 20]
                    },
                    {
                        columns: [
                            {
                                width: '*',
                                text: [
                                    { text: `Validity: ${day}/${grantDateObj.getMonth() + 1}/${year}\n`, fontSize: 10 },
                                    { text: `Vigncia: ${day}/${grantDateObj.getMonth() + 1}/${year}`, fontSize: 10 }
                                ]
                            }
                        ],
                        margin: [0, 0, 0, 20]
                    },
                    {
                        text: 'AUTHORISED VEHICLES\nVeculos Habilitados',
                        fontSize: 11,
                        bold: true,
                        margin: [0, 0, 0, 10]
                    },
                    {
                        columns: [
                            {
                                width: '*',
                                text: [
                                    { text: `Firm: ${formData.organization.nameOfFirm || '__________'}\n`, fontSize: 10 },
                                    { text: `Empresa: ${formData.organization.nameOfFirm || '__________'}`, fontSize: 10 }
                                ]
                            }
                        ],
                        margin: [0, 0, 0, 10]
                    },
                    {
                        columns: [
                            {
                                width: '50%',
                                text: [
                                    { text: 'Origin: GUYANA\n', fontSize: 10 },
                                    { text: 'Origem:', fontSize: 10 }
                                ]
                            },
                            {
                                width: '50%',
                                text: [
                                    { text: 'Destination: BRASIL\n', fontSize: 10 },
                                    { text: 'Destino:', fontSize: 10 }
                                ]
                            }
                        ],
                        margin: [0, 0, 0, 20]
                    },
                    {
                        table: {
                            headerRows: 1,
                            widths: [50, 40, 50, 60, 80, 40, 40, 40, 40, 50],
                            body: [
                                [
                                    { text: 'TYPE\nTipo', fontSize: 8, bold: true },
                                    { text: 'YEAR\nAno', fontSize: 8, bold: true },
                                    { text: 'MARK\nMarca', fontSize: 8, bold: true },
                                    { text: 'BODY\nCarroceria', fontSize: 8, bold: true },
                                    { text: 'CHASSIS\nChassi', fontSize: 8, bold: true },
                                    { text: 'AXLES\nEixos', fontSize: 8, bold: true },
                                    { text: 'MTC\nCMT', fontSize: 8, bold: true },
                                    { text: 'NWC\nCCU', fontSize: 8, bold: true },
                                    { text: 'TARE\nTARA', fontSize: 8, bold: true },
                                    { text: 'PLATE\nPlaca', fontSize: 8, bold: true }
                                ],
                                ...vehicleRows.map(row => row.map(cell => ({ text: cell || '', fontSize: 8 })))
                            ]
                        },
                        margin: [0, 0, 0, 30]
                    },
                    {
                        text: `GRANTED IN GUYANA ON: ${day}/${grantDateObj.getMonth() + 1}/${year}`,
                        fontSize: 10,
                        margin: [0, 0, 0, 5]
                    },
                    {
                        text: `Outorgados em Guyana, em: ${day}/${grantDateObj.getMonth() + 1}/${year}`,
                        fontSize: 10,
                        margin: [0, 0, 0, 20]
                    },
                    {
                        text: 'Responsible Authority\nAutoridade Responsvel',
                        fontSize: 10,
                        bold: true,
                        margin: [0, 0, 0, 10]
                    },
                    {
                        canvas: [
                            {
                                type: 'line',
                                x1: 0,
                                y1: 0,
                                x2: 150,
                                y2: 0,
                                lineWidth: 1,
                                lineColor: '#000000'
                            }
                        ],
                        margin: [0, 0, 0, 5]
                    },
                    {
                        text: 'Permanent Secretary\nMinistry of Home Affairs',
                        fontSize: 10
                    }
                ],
                styles: {
                    header: {
                        fontSize: 16,
                        bold: true
                    },
                    title: {
                        fontSize: 14,
                        bold: true
                    }
                }
            };

            // Generate and download PDF
            try {
                console.log('Creating PDF document...');
                pdfMake.createPdf(docDefinition).download(`IRTA_Document_${refNumber}.pdf`);
                console.log('PDF download initiated');
            } catch (error) {
                console.error('Error generating PDF:', error);
                alert('Error generating PDF: ' + error.message + '. Please check the browser console for details.');
            }
        }

        function getFormData(refNumber) {
            // Sample data structure based on actual IRTA form
            return {
                refNumber: refNumber,
                formType: 'Individual IRTA',
                status: 'Approved',
                representative: {
                    fullName: 'calton dick',
                    email: 'neuereatec@gmail.com',
                    phoneNumber: '+5926690857',
                    nationalId: '567898',
                    dateOfBirth: '06/23/2004',
                    residentialAddress: '1001 glasgow',
                    fromProfile: true,
                    publicProxyInstrument: null
                },
                organization: {
                    nameOfFirm: 'neuereatec',
                    legalAddress: '1001 glasgow',
                    legalRepresentative: 'Guyana',
                    taxIdentificationNumber: '14567',
                    companyRegistrationNumber: '76t79789',
                    telephoneNumber: '226-2444',
                    faxNumber: '226-2740',
                    companyRegistrationCertificate: null
                },
                transportation: {
                    natureOfTransport: 'Both Goods and Passenger',
                    modalityOfTraffic: 'Bilateral with traffic through common border',
                    origin: 'Cooperative Republic of Guyana',
                    destination: 'Federative Republic of Brazil',
                    vehicles: [
                        { 
                            id: 1, 
                            type: 'Bus', 
                            make: 'VW', 
                            year: '1999', 
                            plate: 'gab6862', 
                            status: 'Approved',
                            body: 'Passenger',
                            chassis: 'WVWZZZ1JZ3W386752',
                            axles: '2',
                            mtc: '15.5',
                            nwc: '12.0',
                            tare: '8.5'
                        },
                        { 
                            id: 2, 
                            type: 'Bus', 
                            make: 'VW', 
                            year: '1999', 
                            plate: 'gab6863', 
                            status: 'Approved',
                            body: 'Passenger',
                            chassis: 'WVWZZZ1JZ3W386753',
                            axles: '2',
                            mtc: '15.5',
                            nwc: '12.0',
                            tare: '8.5'
                        }
                    ]
                },
                applicant: {
                    fullName: 'Ahmad Mahmoud',
                    nationality: 'Palestinian',
                    dateOfBirth: '1985-03-15',
                    idType: 'Passport',
                    idNumber: 'P12345678',
                    email: 'ahmad.mahmoud@email.com',
                    phone: '+961 3 123 456',
                    address: '1001 glasgow, Guyana'
                },
                application: {
                    purpose: 'Family Reunion',
                    duration: '12 months',
                    employer: 'N/A',
                    previousRef: 'IRTA-2023-000987',
                    submittedDate: '2024-01-12 4:22 PM',
                    assignedOfficer: 'Not Assigned'
                },
                documents: [
                    { name: 'Passport Copy.pdf', size: '2.3 MB', type: 'passport' },
                    { name: 'Employment Contract.pdf', size: '1.8 MB', type: 'contract' },
                    { name: 'Proof of Address.pdf', size: '945 KB', type: 'address' },
                    { name: 'Medical Certificate.pdf', size: '1.2 MB', type: 'medical' }
                ],
                workflow: [
                    { stage: 'Submitted', date: '2024-01-12 4:22 PM', user: 'System', comment: 'Application submitted successfully', completed: true },
                    { stage: 'Reception Review', date: '2024-01-12 5:00 PM', user: 'Emily Watson', comment: 'All documents received and verified', completed: true },
                    { stage: 'Verification', date: '2024-01-13 09:00 AM', user: 'Michael Chen', comment: 'All information verified', completed: true },
                    { stage: 'Issuing Decision', date: '2024-01-14 02:15 PM', user: 'Sarah Johnson', comment: 'Application approved', completed: true },
                    { stage: 'Completed', date: '2024-01-15 10:30 AM', user: 'Sarah Johnson', comment: 'IRTA Document of Competence issued', completed: true }
                ]
            };
        }

        function generateFormDetailHTML(data) {
            return `
                <div class="wizard-tabs">
                    <button class="wizard-tab active" onclick="switchWizardTab(0, this)">
                        <span class="wizard-tab-number">1</span>
                        Introduction
                    </button>
                    <button class="wizard-tab ${data.representative ? 'completed' : ''}" onclick="switchWizardTab(1, this)">
                        <span class="wizard-tab-number">2</span>
                        Representative
                    </button>
                    <button class="wizard-tab ${data.organization ? 'completed' : ''}" onclick="switchWizardTab(2, this)">
                        <span class="wizard-tab-number">3</span>
                        Organization
                    </button>
                    <button class="wizard-tab ${data.transportation ? 'completed' : ''}" onclick="switchWizardTab(3, this)">
                        <span class="wizard-tab-number">4</span>
                        Transportation
                    </button>
                    <button class="wizard-tab" onclick="switchWizardTab(4, this)">
                        <span class="wizard-tab-number">5</span>
                        Declarations
                    </button>
                    <button class="wizard-tab" onclick="switchWizardTab(5, this)">
                        <span class="wizard-tab-number">6</span>
                        Status
                    </button>
                </div>

                <!-- Introduction Tab -->
                <div class="wizard-tab-content active" id="wizard-tab-0">
                    <div style="margin-bottom: 32px;">
                        <h2 style="font-size: 28px; font-weight: 700; color: #1e293b; margin-bottom: 16px;">IRTA Document of Competence</h2>
                        <p style="font-size: 16px; color: #475569; line-height: 1.6; margin-bottom: 32px;">
                            Welcome to the official application portal for the International Road Transport Agreement (IRTA) between the Cooperative Republic of Guyana and the Federative Republic of Brazil.
                        </p>
                    </div>

                    <div class="form-section">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                            Application Overview
                        </div>
                        <div style="background: #f8fafc; padding: 24px; border-radius: 8px; margin-bottom: 24px; border: 1px solid #e2e8f0;">
                            <p style="color: #475569; line-height: 1.6; margin-bottom: 20px; font-size: 15px;">
                                This application is for firms seeking a <strong>Document of Competence</strong> to operate international road transport services between Guyana and Brazil. The process involves several steps:
                            </p>
                            <ul style="color: #475569; line-height: 2; padding-left: 24px; margin-bottom: 20px;">
                                <li><strong>Representative Information:</strong> Details of the firm's legal representative.</li>
                                <li><strong>Organization Details:</strong> Information about your firm and its legal status.</li>
                                <li><strong>Transportation Details:</strong> Nature of transport and vehicle information.</li>
                                <li><strong>Declarations:</strong> Final review and legal declarations.</li>
                            </ul>
                            <div style="background: #eff6ff; border-left: 4px solid #3b82f6; padding: 16px; border-radius: 4px; margin-top: 20px;">
                                <div style="font-weight: 600; color: #1e40af; margin-bottom: 4px;">Note:</div>
                                <div style="color: #1e40af; font-size: 14px;">
                                    Please ensure you have all required documents (Registration, Insurance, Fitness, etc.) in digital format (PDF or Image) before starting.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Representative Tab -->
                <div class="wizard-tab-content" id="wizard-tab-1">
                    ${data.representative ? `
                    <div style="margin-bottom: 20px;">
                        <h3 style="font-size: 18px; font-weight: 600; color: #1e293b; margin-bottom: 8px;">Representative Information</h3>
                        <p style="color: #64748b; font-size: 14px; margin-bottom: 16px;">Provide details of the firm's legal representative.</p>
                        
                        <div style="background: #f0fdf4; border: 1px solid #10b981; border-radius: 8px; padding: 16px; margin-bottom: 24px; display: flex; align-items: start; gap: 12px;">
                            <div style="width: 24px; height: 24px; border-radius: 50%; background-color: #10b981; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;"></div>
                            <div>
                                <div style="font-weight: 600; color: #047857; margin-bottom: 4px;">Application Locked</div>
                                <div style="color: #047857; font-size: 14px;">Your application is currently ${data.status}. Editing is disabled, but you can still view your details.</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                            1. Primary Representative
                        </div>
                        <div class="form-grid">
                            <div class="form-field">
                                <div class="field-label">
                                    Full Name *
                                    ${data.representative.fromProfile ? '<span style="font-size: 12px; color: #64748b; font-weight: normal; margin-left: 8px;">Information from your account profile</span>' : ''}
                                </div>
                                <div class="field-value">${data.representative.fullName}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">
                                    Email Address *
                                    ${data.representative.fromProfile ? '<span style="font-size: 12px; color: #64748b; font-weight: normal; margin-left: 8px;">Information from your account profile</span>' : ''}
                                </div>
                                <div class="field-value">${data.representative.email}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Phone Number *</div>
                                <div class="field-value">${data.representative.phoneNumber || 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">National ID / Passport</div>
                                <div class="field-value">${data.representative.nationalId || 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">
                                    Date of Birth *
                                    <span style="font-size: 12px; color: #64748b; font-weight: normal; margin-left: 8px;">Must be 21 years or older</span>
                                </div>
                                <div class="field-value">${data.representative.dateOfBirth || 'N/A'}</div>
                            </div>
                            <div class="form-field form-grid-full">
                                <div class="field-label">Residential Address *</div>
                                <div class="field-value">${data.representative.residentialAddress || 'N/A'}</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-section" style="margin-top: 24px;">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                            Legal Documents
                        </div>
                        <div style="display: grid; gap: 16px;">
                            <div style="border: 1px dashed #cbd5e1; border-radius: 8px; padding: 16px; background: #f8fafc;">
                                <div style="font-weight: 500; color: #1e293b; margin-bottom: 8px;">Public Proxy Instrument</div>
                                ${data.representative.publicProxyInstrument ? `
                                    <div style="color: #059669; font-size: 13px; margin-bottom: 4px;"> ${data.representative.publicProxyInstrument.name}</div>
                                    <div style="color: #64748b; font-size: 12px;">${data.representative.publicProxyInstrument.size}</div>
                                ` : `
                                    <div style="color: #64748b; font-size: 13px; margin-bottom: 8px;">No file chosen</div>
                                    <div style="color: #64748b; font-size: 12px;">Upload Public Proxy Instrument granting legal Representative in Brazil full powers (English & Portuguese)</div>
                                `}
                            </div>
                        </div>
                    </div>
                    ` : '<div style="text-align: center; padding: 40px; color: #94a3b8;">No representative information available</div>'}
                </div>

                <!-- Organization Tab -->
                <div class="wizard-tab-content" id="wizard-tab-2">
                    ${data.organization ? `
                    <div style="margin-bottom: 20px;">
                        <h3 style="font-size: 18px; font-weight: 600; color: #1e293b; margin-bottom: 8px;">Organization Details</h3>
                        <p style="color: #64748b; font-size: 14px; margin-bottom: 24px;">Provide information about your firm and its legal status.</p>
                    </div>

                    <div class="form-section">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                            </svg>
                            Company Information
                        </div>
                        <div class="form-grid">
                            <div class="form-field">
                                <div class="field-label">Name of Firm *</div>
                                <div class="field-value">${data.organization.nameOfFirm}</div>
                            </div>
                            <div class="form-field form-grid-full">
                                <div class="field-label">Legal Address of Firm *</div>
                                <div class="field-value">${data.organization.legalAddress}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Legal Representative in Country of Origin *</div>
                                <div class="field-value">${data.organization.legalRepresentative}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Tax Identification Number (TIN)</div>
                                <div class="field-value">${data.organization.taxIdentificationNumber || 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Company Registration Number</div>
                                <div class="field-value">${data.organization.companyRegistrationNumber || 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Telephone Number</div>
                                <div class="field-value">${data.organization.telephoneNumber || 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Fax Number</div>
                                <div class="field-value">${data.organization.faxNumber || 'N/A'}</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-section" style="margin-top: 24px;">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                            Required Documents
                        </div>
                        <div style="display: grid; gap: 16px;">
                            <div style="border: 1px dashed #cbd5e1; border-radius: 8px; padding: 16px; background: #f8fafc;">
                                <div style="font-weight: 500; color: #1e293b; margin-bottom: 8px;">Company Registration Certificate *</div>
                                ${data.organization.companyRegistrationCertificate ? `
                                    <div style="color: #059669; font-size: 13px; margin-bottom: 4px;"> ${data.organization.companyRegistrationCertificate.name}</div>
                                    <div style="color: #64748b; font-size: 12px;">${data.organization.companyRegistrationCertificate.size}</div>
                                ` : `
                                    <div style="color: #64748b; font-size: 13px; margin-bottom: 8px;">No file chosen</div>
                                    <div style="color: #64748b; font-size: 12px;">Upload a clear copy of your company registration certificate</div>
                                `}
                            </div>
                        </div>
                    </div>
                    ` : '<div style="text-align: center; padding: 40px; color: #94a3b8;">No organization information available</div>'}
                </div>

                <!-- Transportation Tab -->
                <div class="wizard-tab-content" id="wizard-tab-3">
                    <div style="margin-bottom: 20px;">
                        <h3 style="font-size: 18px; font-weight: 600; color: #1e293b; margin-bottom: 8px;">Transportation Details</h3>
                        <p style="color: #64748b; font-size: 14px; margin-bottom: 16px;">Specify your transport operations, routes, and vehicle information.</p>
                        
                        <div style="background: #eff6ff; border: 1px solid #3b82f6; border-radius: 8px; padding: 16px; margin-bottom: 24px; display: flex; align-items: start; gap: 12px;">
                            <div style="width: 24px; height: 24px; border-radius: 50%; background-color: #3b82f6; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">i</div>
                            <div>
                                <div style="font-weight: 600; color: #1e40af; margin-bottom: 4px;">Transportation Locked</div>
                                <div style="color: #1e40af; font-size: 14px;">Transportation details are locked, but you can still add new vehicles authorized for international road transport.</div>
                            </div>
                        </div>
                    </div>

                    ${data.transportation ? `
                    <div class="form-section">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
                            </svg>
                            Transport Operations
                        </div>
                        <div class="form-grid">
                            <div class="form-field">
                                <div class="field-label">Nature of Transport *</div>
                                <div class="field-value" style="display: flex; gap: 16px; flex-wrap: wrap;">
                                    <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                                        <input type="radio" ${data.transportation.natureOfTransport === 'Goods (Cargo)' ? 'checked' : ''} disabled>
                                        <span>Goods (Cargo)</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                                        <input type="radio" ${data.transportation.natureOfTransport === 'Passenger' ? 'checked' : ''} disabled>
                                        <span>Passenger</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                                        <input type="radio" ${data.transportation.natureOfTransport === 'Both Goods and Passenger' ? 'checked' : ''} disabled>
                                        <span>Both Goods and Passenger</span>
                                    </label>
                                </div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Modality of Traffic *</div>
                                <div class="field-value">${data.transportation.modalityOfTraffic}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Origin *</div>
                                <div class="field-value">${data.transportation.origin}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Destination *</div>
                                <div class="field-value">${data.transportation.destination}</div>
                            </div>
                        </div>
                    </div>
                    ` : ''}

                    <div class="form-section">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"></path>
                            </svg>
                            Vehicle Information
                        </div>
                        <p style="color: #64748b; font-size: 14px; margin-bottom: 20px;">Add vehicles authorized for international road transport.</p>

                        <div style="margin-bottom: 32px;">
                            <div style="font-weight: 600; color: #1e293b; margin-bottom: 16px; font-size: 15px;">Submitted Vehicles</div>
                            <div style="display: grid; gap: 12px;">
                                ${data.transportation && data.transportation.vehicles ? data.transportation.vehicles.map((vehicle, index) => `
                                    <div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 16px;">
                                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                            <div>
                                                <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Vehicle ${index + 1}</div>
                                                <div style="color: #64748b; font-size: 14px;">${vehicle.type}  ${vehicle.make} (${vehicle.year})</div>
                                            </div>
                                            <span class="status-badge status-${vehicle.status.toLowerCase()}">${vehicle.status}</span>
                                        </div>
                                        <div style="color: #475569; font-size: 13px;">Plate: ${vehicle.plate}</div>
                                    </div>
                                `).join('') : '<div style="text-align: center; padding: 20px; color: #94a3b8;">No vehicles submitted yet</div>'}
                            </div>
                        </div>

                        <div style="border-top: 2px solid #e2e8f0; padding-top: 24px;">
                            <div style="font-weight: 600; color: #1e293b; margin-bottom: 20px; font-size: 15px;">New Vehicle Details</div>
                            <div class="form-grid">
                                <div class="form-field">
                                    <div class="field-label">Vehicle Type *</div>
                                    <div class="field-value" style="color: #94a3b8;">Select type</div>
                                </div>
                                <div class="form-field">
                                    <div class="field-label">Year</div>
                                    <div class="field-value" style="color: #94a3b8;">e.g., 2020</div>
                                </div>
                                <div class="form-field">
                                    <div class="field-label">Make</div>
                                    <div class="field-value" style="color: #94a3b8;">Select make</div>
                                </div>
                                <div class="form-field">
                                    <div class="field-label">Body Type</div>
                                    <div class="field-value" style="color: #94a3b8;">e.g., Flatbed</div>
                                </div>
                                <div class="form-field">
                                    <div class="field-label">Chassis Number</div>
                                    <div class="field-value" style="color: #94a3b8;">Enter chassis number</div>
                                </div>
                                <div class="form-field">
                                    <div class="field-label">Axles / Eixos</div>
                                    <div class="field-value" style="color: #94a3b8;">Number of axles</div>
                                </div>
                                <div class="form-field">
                                    <div class="field-label">MTC (Maximum Total Capacity) / CMT</div>
                                    <div class="field-value" style="color: #94a3b8;">MTC in tons</div>
                                </div>
                                <div class="form-field">
                                    <div class="field-label">NWC (Net Weight Capacity) / CCU</div>
                                    <div class="field-value" style="color: #94a3b8;">NWC in tons</div>
                                </div>
                                <div class="form-field">
                                    <div class="field-label">Tare Weight / TARA</div>
                                    <div class="field-value" style="color: #94a3b8;">Tare in tons</div>
                                </div>
                                <div class="form-field">
                                    <div class="field-label">Plate Number / Placa *</div>
                                    <div class="field-value" style="color: #94a3b8;">License plate</div>
                                </div>
                            </div>

                            <div style="margin-top: 32px;">
                                <div class="section-title" style="margin-bottom: 20px;">
                                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                                    </svg>
                                    Vehicle Documents
                                </div>
                                <div style="display: grid; gap: 16px;">
                                    <div style="border: 1px dashed #cbd5e1; border-radius: 8px; padding: 16px; background: #f8fafc;">
                                        <div style="font-weight: 500; color: #1e293b; margin-bottom: 8px;">1. Vehicle Registration Certificate *</div>
                                        <div style="color: #64748b; font-size: 13px; margin-bottom: 8px;">No file chosen</div>
                                        <div style="color: #64748b; font-size: 12px;">Upload registration certificate for this vehicle</div>
                                    </div>
                                    <div style="border: 1px dashed #cbd5e1; border-radius: 8px; padding: 16px; background: #f8fafc;">
                                        <div style="font-weight: 500; color: #1e293b; margin-bottom: 8px;">2. Revenue Licence *</div>
                                        <div style="color: #64748b; font-size: 13px; margin-bottom: 8px;">No file chosen</div>
                                        <div style="color: #64748b; font-size: 12px;">Upload revenue licence for this vehicle</div>
                                    </div>
                                    <div style="border: 1px dashed #cbd5e1; border-radius: 8px; padding: 16px; background: #f8fafc;">
                                        <div style="font-weight: 500; color: #1e293b; margin-bottom: 8px;">3. Certificate of Fitness *</div>
                                        <div style="color: #64748b; font-size: 13px; margin-bottom: 8px;">No file chosen</div>
                                        <div style="color: #64748b; font-size: 12px;">Upload certificate of fitness for this vehicle</div>
                                    </div>
                                    <div style="border: 1px dashed #cbd5e1; border-radius: 8px; padding: 16px; background: #f8fafc;">
                                        <div style="font-weight: 500; color: #1e293b; margin-bottom: 8px;">4. Third Party Insurance *</div>
                                        <div style="color: #64748b; font-size: 13px; margin-bottom: 8px;">No file chosen</div>
                                        <div style="color: #64748b; font-size: 12px;">Upload third party insurance document for this vehicle</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Declarations Tab -->
                <div class="wizard-tab-content" id="wizard-tab-4">
                    <div class="form-section">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Declarations
                        </div>
                        <div style="background: #f8fafc; padding: 24px; border-radius: 8px; border: 1px solid #e2e8f0;">
                            <div style="margin-bottom: 20px;">
                                <div style="display: flex; align-items: start; gap: 12px; margin-bottom: 16px;">
                                    <input type="checkbox" checked disabled style="margin-top: 4px;">
                                    <div>
                                        <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Legal Compliance Declaration</div>
                                        <div style="color: #64748b; font-size: 14px;">I declare that all information provided in this application is true and accurate to the best of my knowledge.</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: start; gap: 12px; margin-bottom: 16px;">
                                    <input type="checkbox" checked disabled style="margin-top: 4px;">
                                    <div>
                                        <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Document Authenticity</div>
                                        <div style="color: #64748b; font-size: 14px;">I certify that all documents submitted are authentic and have not been altered or falsified.</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: start; gap: 12px;">
                                    <input type="checkbox" checked disabled style="margin-top: 4px;">
                                    <div>
                                        <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">Agreement to Terms</div>
                                        <div style="color: #64748b; font-size: 14px;">I agree to comply with all IRTA regulations and understand that false information may result in application rejection or legal action.</div>
                                    </div>
                                </div>
                            </div>
                            <div style="padding-top: 20px; border-top: 1px solid #e2e8f0; margin-top: 20px;">
                                <div style="font-weight: 600; color: #1e293b; margin-bottom: 8px;">Signed By:</div>
                                <div style="color: #475569;">${data.representative ? data.representative.fullName : data.applicant.fullName}</div>
                                <div style="color: #64748b; font-size: 14px; margin-top: 4px;">Date: ${data.application.submittedDate}</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Status Tab -->
                <div class="wizard-tab-content" id="wizard-tab-5">
                    <div class="form-section">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Application Status & Workflow History
                        </div>
                        <div class="status-banner ${data.status.toLowerCase().replace(' ', '')}" style="margin-bottom: 24px;">
                            <div>
                                <strong>Current Status:</strong> ${data.status}
                                ${data.application.assignedOfficer && data.application.assignedOfficer !== 'Not Assigned' ? `<br><small>Assigned to: ${data.application.assignedOfficer}</small>` : ''}
                            </div>
                            <span class="status-badge status-${data.status.toLowerCase().replace(' ', '-')}">${data.status}</span>
                        </div>
                        <div class="workflow-timeline">
                            <div class="timeline-line"></div>
                            ${data.workflow.map((item, index) => `
                                <div class="timeline-item ${item.completed ? 'completed' : ''} ${item.active ? 'active' : ''}">
                                    <div class="timeline-dot"></div>
                                    <div class="timeline-content">
                                        <div class="timeline-header">
                                            <div class="timeline-stage">${item.stage}</div>
                                            ${item.date ? `<div class="timeline-date">${item.date}</div>` : ''}
                                        </div>
                                        ${item.user ? `<div class="timeline-user">By: ${item.user}</div>` : ''}
                                        ${item.comment ? `<div class="timeline-comment">${item.comment}</div>` : ''}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        function switchWizardTab(tabIndex, element) {
            // Hide all tab contents
            document.querySelectorAll('.wizard-tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab content
            const selectedTab = document.getElementById('wizard-tab-' + tabIndex);
            if (selectedTab) {
                selectedTab.classList.add('active');
            }

            // Update active tab button
            document.querySelectorAll('.wizard-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            if (element) {
                element.classList.add('active');
            }
        }

        function approveForm() {
            alert('In Flutter: This would approve the application and move it to the next workflow stage.');
        }

        function rejectForm() {
            const reason = prompt('Please provide a reason for rejection:');
            if (reason) {
                alert('In Flutter: Application would be rejected with reason: ' + reason);
            }
        }

        function reassignForm() {
            const officer = prompt('Enter officer name to reassign to:');
            if (officer) {
                alert('In Flutter: Application would be reassigned to ' + officer);
            }
        }

        // Close modal when clicking outside
        document.getElementById('formModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        function updateRowCount() {
            const visibleRows = document.querySelectorAll('tbody tr[style=""], tbody tr:not([style])').length;
            document.getElementById('rowCount').textContent = visibleRows;
        }

        // Row selection
        document.querySelectorAll('tbody tr').forEach(row => {
            row.addEventListener('click', function(e) {
                if (e.target.tagName !== 'BUTTON' && e.target.tagName !== 'SELECT') {
                    document.querySelectorAll('tbody tr').forEach(r => r.classList.remove('selected'));
                    this.classList.add('selected');
                }
            });
        });

        // Search functionality
        document.querySelector('.search-box').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            document.querySelectorAll('tbody tr').forEach(row => {
                const text = row.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
            updateRowCount();
        });

        // Form Type Filter
        document.getElementById('formTypeFilter').addEventListener('change', function(e) {
            const filterValue = e.target.value.toLowerCase();
            document.querySelectorAll('tbody tr').forEach(row => {
                if (!filterValue || row.dataset.formType.toLowerCase() === filterValue) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
            updateRowCount();
        });

        // Status Filter
        document.getElementById('statusFilter').addEventListener('change', function(e) {
            const filterValue = e.target.value;
            document.querySelectorAll('tbody tr').forEach(row => {
                if (!filterValue || row.dataset.status === filterValue) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
            updateRowCount();
        });

        // Initialize row count
        updateRowCount();

        // Login System
        let currentUser = null;
        let userRole = 'officer';

        function selectRole(role, element) {
            document.querySelectorAll('.role-option').forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            userRole = role;
        }

        function quickLogin(role) {
            userRole = role;
            if (role === 'officer') {
                currentUser = { name: 'John Doe', email: 'john.doe@irta.gov', role: 'Issuing Officer' };
            } else {
                currentUser = { name: 'Ahmad Mahmoud', email: 'ahmad.mahmoud@email.com', role: 'Applicant' };
            }
            handleLoginComplete();
        }

        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Demo login logic
            if (userRole === 'officer' || email.includes('@irta.gov')) {
                currentUser = { name: 'John Doe', email: email, role: 'Issuing Officer' };
                userRole = 'officer';
            } else {
                currentUser = { name: 'Ahmad Mahmoud', email: email, role: 'Applicant' };
                userRole = 'applicant';
            }
            
            handleLoginComplete();
        }

        function handleLoginPage(event) {
            event.preventDefault();
            const email = document.getElementById('loginPageEmail').value;
            const password = document.getElementById('loginPagePassword').value;
            
            // Demo login logic
            if (userRole === 'officer' || email.includes('@irta.gov')) {
                currentUser = { name: 'John Doe', email: email, role: 'Issuing Officer' };
                userRole = 'officer';
            } else {
                currentUser = { name: 'Ahmad Mahmoud', email: email, role: 'Applicant' };
                userRole = 'applicant';
            }
            
            // Hide login overlay if it exists, show dashboard
            const loginOverlay = document.getElementById('loginOverlay');
            if (loginOverlay) {
                loginOverlay.classList.add('hidden');
            }
            const dashboardContainer = document.getElementById('dashboardContainer');
            if (dashboardContainer) {
                dashboardContainer.style.display = 'flex';
            }
            
            // Update UI based on role
            updateUIForRole();
            
            // Redirect to appropriate dashboard
            if (userRole === 'applicant') {
                showPage('applicant-dashboard', null);
            } else {
                showPage('dashboard', null);
            }
        }

        function handleRegistration(event) {
            event.preventDefault();
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            
            if (password !== confirmPassword) {
                alert('Passwords do not match. Please try again.');
                return;
            }

            if (password.length < 8) {
                alert('Password must be at least 8 characters long.');
                return;
            }

            // In a real application, this would submit to a backend API
            alert('Registration successful! In a real application, you would be redirected to login or automatically logged in.\n\nRegistration Details:\n- Email: ' + document.getElementById('regEmail').value + '\n- Name: ' + document.getElementById('regFullName').value);
            
            // Redirect to login page
            showPage('login', null);
        }

        function handleLoginComplete() {
            document.getElementById('loginOverlay').classList.add('hidden');
            document.getElementById('dashboardContainer').style.display = 'flex';
            
            // Update UI based on role
            updateUIForRole();
            
            // Show appropriate page
            if (userRole === 'applicant') {
                // Hide admin nav items and public pages
                document.querySelectorAll('.nav-item').forEach(item => {
                    const text = item.textContent.trim();
                    if (text === 'Landing Page' || text === 'Registration' || text === 'Login' ||
                        text === 'User Management' || text === 'Roles & Permissions' || 
                        text === 'Form Config' || text === 'Reports' || 
                        text === 'Renewal' || 
                        text === 'Amendment' || text === 'Cancellation' || text === 'Individual IRTA' ||
                        text === 'Vehicle Approval' || text === 'System Configuration' ||
                        text === 'Database Access' || text === 'View All Logs') {
                        item.style.display = 'none';
                    } else if (text === 'Dashboard') {
                        item.style.display = 'flex';
                        item.querySelector('span').textContent = 'My Applications';
                    }
                });
                showPage('applicant-dashboard', null);
            } else {
                // Show all nav items
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.style.display = 'flex';
                });
                // Reset nav text
                const dashboardNav = document.querySelector('.nav-item');
                if (dashboardNav && dashboardNav.textContent.trim().includes('My Applications')) {
                    dashboardNav.querySelector('span').textContent = 'Dashboard';
                }
                showPage('dashboard', null);
            }
        }

        function updateUIForRole() {
            const userInfo = document.querySelector('.user-info');
            if (userInfo && currentUser) {
                const userName = userInfo.querySelector('div > div:first-child');
                const userRoleText = userInfo.querySelector('div > div:last-child');
                if (userName) userName.textContent = currentUser.name;
                if (userRoleText) userRoleText.textContent = currentUser.role;
            }
        }

        function editDraft(refNumber) {
            alert('In Flutter: This would open the form builder to continue editing draft: ' + refNumber);
        }

        function logout() {
            currentUser = null;
            userRole = 'officer';
            document.getElementById('loginOverlay').classList.remove('hidden');
            document.getElementById('dashboardContainer').style.display = 'none';
            const emailInput = document.getElementById('loginEmail');
            const passwordInput = document.getElementById('loginPassword');
            if (emailInput) emailInput.value = '';
            if (passwordInput) passwordInput.value = '';
            document.querySelectorAll('.role-option').forEach(opt => opt.classList.remove('selected'));
            const firstRole = document.querySelector('.role-option');
            if (firstRole) firstRole.classList.add('selected');
        }

        function editUser(userId) {
            alert('In Flutter: This would open a modal/form to edit user: ' + userId + '\n\nFeatures:\n- Edit user details\n- Assign/remove roles\n- Change department\n- Activate/deactivate account');
        }

        function deleteUser(userId) {
            if (confirm('Are you sure you want to delete user ' + userId + '?')) {
                alert('In Flutter: User ' + userId + ' would be deleted from the system.');
            }
        }

        // Page Navigation
        function showPage(pageId, element) {
            console.log('showPage called with:', pageId, 'userRole:', userRole); // Debug log
            
            // If applicant tries to access dashboard, redirect to applicant dashboard
            if (pageId === 'dashboard' && userRole === 'applicant') {
                pageId = 'applicant-dashboard';
                console.log('Redirected applicant to applicant-dashboard'); // Debug log
            }
            
            // Hide all pages
            document.querySelectorAll('.page-section').forEach(page => {
                page.classList.remove('active');
                page.style.display = 'none';
            });

            // Show selected page
            const selectedPage = document.getElementById(pageId + '-page');
            console.log('Selected page element:', selectedPage); // Debug log
            if (selectedPage) {
                selectedPage.classList.add('active');
                selectedPage.style.display = 'block'; // Ensure it's visible
            } else {
                console.error('Page not found: ' + pageId + '-page');
                alert('Page not found: ' + pageId + '-page'); // Debug alert
            }

            // Update active nav item
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            if (element) {
                element.classList.add('active');
            } else if (event && event.currentTarget) {
                event.currentTarget.classList.add('active');
            }

            // Initialize page-specific functionality
            if (pageId === 'individual-irta') {
                setTimeout(() => {
                    updateIndividualRowCount();
                    setupIndividualFilter();
                }, 100);
            } else if (pageId === 'renewal') {
                setTimeout(() => {
                    updateRenewalRowCount();
                    setupRenewalFilter();
                }, 100);
            } else if (pageId === 'amendment') {
                setTimeout(() => {
                    updateAmendmentRowCount();
                    setupAmendmentFilter();
                }, 100);
            } else if (pageId === 'cancellation') {
                setTimeout(() => {
                    updateCancellationRowCount();
                    setupCancellationFilter();
                }, 100);
            } else if (pageId === 'reports') {
                setTimeout(() => {
                    showReportSection('summary');
                }, 100);
            } else if (pageId === 'form-config') {
                setTimeout(() => {
                    switchFormSection('introduction');
                }, 100);
            } else if (pageId === 'vehicle-approval') {
                setTimeout(() => {
                    updateVehicleRowCount();
                    setupVehicleFilters();
                }, 100);
            } else if (pageId === 'new-application') {
                // New application page - ensure first step is visible and hide others
                setTimeout(() => {
                    // Hide all steps
                    document.querySelectorAll('.application-step').forEach(step => {
                        step.style.display = 'none';
                    });
                    // Show first step
                    const firstStep = document.getElementById('application-step-1');
                    if (firstStep) {
                        firstStep.style.display = 'block';
                    }
                }, 100);
            }
        }

        // Handle New Application button click - simple direct function
        function handleNewApplication() {
            console.log('handleNewApplication function called');
            try {
                // Hide all pages
                document.querySelectorAll('.page-section').forEach(page => {
                    page.classList.remove('active');
                    page.style.display = 'none';
                });

                // Show new application page
                const newAppPage = document.getElementById('new-application-page');
                console.log('New application page element:', newAppPage);
                if (newAppPage) {
                    newAppPage.classList.add('active');
                    newAppPage.style.display = 'block';
                    
                    // Hide all steps and show first step
                    setTimeout(() => {
                        document.querySelectorAll('.application-step').forEach(step => {
                            step.style.display = 'none';
                        });
                        const firstStep = document.getElementById('application-step-1');
                        if (firstStep) {
                            firstStep.style.display = 'block';
                            currentApplicationStep = 1;
                            updateProgressIndicator(1);
                        }
                    }, 50);
                } else {
                    console.error('new-application-page not found!');
                    alert('New Application page not found. Please refresh the page.');
                }
            } catch (error) {
                console.error('Error in handleNewApplication:', error);
                alert('Error: ' + error.message);
            }
        }

        // Also add event listener as backup
        document.addEventListener('DOMContentLoaded', function() {
            const newAppBtn = document.getElementById('newApplicationBtn');
            if (newAppBtn && !newAppBtn.onclick) {
                newAppBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    handleNewApplication();
                });
            }
        });

        function updateIndividualRowCount() {
            const individualPage = document.getElementById('individual-irta-page');
            if (individualPage) {
                const visibleRows = individualPage.querySelectorAll('tbody tr[style=""], tbody tr:not([style])').length;
                const countEl = document.getElementById('individualRowCount');
                if (countEl) {
                    countEl.textContent = visibleRows;
                }
            }
        }

        function updateRenewalRowCount() {
            const renewalPage = document.getElementById('renewal-page');
            if (renewalPage) {
                const visibleRows = renewalPage.querySelectorAll('tbody tr[style=""], tbody tr:not([style])').length;
                const countEl = document.getElementById('renewalRowCount');
                if (countEl) {
                    countEl.textContent = visibleRows;
                }
            }
        }

        function setupRenewalFilter() {
            const statusFilter = document.getElementById('renewalStatusFilter');
            const typeFilter = document.getElementById('renewalTypeFilter');
            const renewalPage = document.getElementById('renewal-page');

            function applyFilters() {
                const statusValue = statusFilter ? statusFilter.value : '';
                const typeValue = typeFilter ? typeFilter.value : '';

                if (renewalPage) {
                    renewalPage.querySelectorAll('tbody tr').forEach(row => {
                        const rowStatus = row.dataset.status || '';
                        const rowType = row.dataset.type || '';
                        
                        const statusMatch = !statusValue || rowStatus === statusValue;
                        const typeMatch = !typeValue || rowType === typeValue;
                        
                        if (statusMatch && typeMatch) {
                            row.style.display = '';
                        } else {
                            row.style.display = 'none';
                        }
                    });
                    updateRenewalRowCount();
                }
            }

            if (statusFilter) {
                statusFilter.addEventListener('change', applyFilters);
            }
            if (typeFilter) {
                typeFilter.addEventListener('change', applyFilters);
            }
        }

        function updateAmendmentRowCount() {
            const amendmentPage = document.getElementById('amendment-page');
            if (amendmentPage) {
                const visibleRows = amendmentPage.querySelectorAll('tbody tr[style=""], tbody tr:not([style])').length;
                const countEl = document.getElementById('amendmentRowCount');
                if (countEl) {
                    countEl.textContent = visibleRows;
                }
            }
        }

        function setupAmendmentFilter() {
            const statusFilter = document.getElementById('amendmentStatusFilter');
            const typeFilter = document.getElementById('amendmentTypeFilter');
            const categoryFilter = document.getElementById('amendmentCategoryFilter');
            const amendmentPage = document.getElementById('amendment-page');

            function applyFilters() {
                const statusValue = statusFilter ? statusFilter.value : '';
                const typeValue = typeFilter ? typeFilter.value : '';
                const categoryValue = categoryFilter ? categoryFilter.value : '';

                if (amendmentPage) {
                    amendmentPage.querySelectorAll('tbody tr').forEach(row => {
                        const rowStatus = row.dataset.status || '';
                        const rowType = row.dataset.type || '';
                        const rowCategory = row.dataset.category || '';
                        
                        const statusMatch = !statusValue || rowStatus === statusValue;
                        const typeMatch = !typeValue || rowType === typeValue;
                        const categoryMatch = !categoryValue || rowCategory === categoryValue;
                        
                        if (statusMatch && typeMatch && categoryMatch) {
                            row.style.display = '';
                        } else {
                            row.style.display = 'none';
                        }
                    });
                    updateAmendmentRowCount();
                }
            }

            if (statusFilter) {
                statusFilter.addEventListener('change', applyFilters);
            }
            if (typeFilter) {
                typeFilter.addEventListener('change', applyFilters);
            }
            if (categoryFilter) {
                categoryFilter.addEventListener('change', applyFilters);
            }
        }

        function updateCancellationRowCount() {
            const cancellationPage = document.getElementById('cancellation-page');
            if (cancellationPage) {
                const visibleRows = cancellationPage.querySelectorAll('tbody tr[style=""], tbody tr:not([style])').length;
                const countEl = document.getElementById('cancellationRowCount');
                if (countEl) {
                    countEl.textContent = visibleRows;
                }
            }
        }

        function setupCancellationFilter() {
            const statusFilter = document.getElementById('cancellationStatusFilter');
            const typeFilter = document.getElementById('cancellationTypeFilter');
            const reasonFilter = document.getElementById('cancellationReasonFilter');
            const cancellationPage = document.getElementById('cancellation-page');

            function applyFilters() {
                const statusValue = statusFilter ? statusFilter.value : '';
                const typeValue = typeFilter ? typeFilter.value : '';
                const reasonValue = reasonFilter ? reasonFilter.value : '';

                if (cancellationPage) {
                    cancellationPage.querySelectorAll('tbody tr').forEach(row => {
                        const rowStatus = row.dataset.status || '';
                        const rowType = row.dataset.type || '';
                        const rowReason = row.dataset.reason || '';
                        
                        const statusMatch = !statusValue || rowStatus === statusValue;
                        const typeMatch = !typeValue || rowType === typeValue;
                        const reasonMatch = !reasonValue || rowReason === reasonValue;
                        
                        if (statusMatch && typeMatch && reasonMatch) {
                            row.style.display = '';
                        } else {
                            row.style.display = 'none';
                        }
                    });
                    updateCancellationRowCount();
                }
            }

            if (statusFilter) {
                statusFilter.addEventListener('change', applyFilters);
            }
            if (typeFilter) {
                typeFilter.addEventListener('change', applyFilters);
            }
            if (reasonFilter) {
                reasonFilter.addEventListener('change', applyFilters);
            }
        }

        function setupIndividualFilter() {
            const filter = document.getElementById('individualStatusFilter');
            if (filter) {
                filter.addEventListener('change', function(e) {
                    const filterValue = e.target.value;
                    const individualPage = document.getElementById('individual-irta-page');
                    if (individualPage) {
                        individualPage.querySelectorAll('tbody tr').forEach(row => {
                            if (!filterValue || row.dataset.status === filterValue) {
                                row.style.display = '';
                            } else {
                                row.style.display = 'none';
                            }
                        });
                        updateIndividualRowCount();
                    }
                });
            }
        }

        function updateIndividualRowCount() {
            const visibleRows = document.querySelectorAll('#individual-irta-page tbody tr[style=""], #individual-irta-page tbody tr:not([style])').length;
            const countEl = document.getElementById('individualRowCount');
            if (countEl) {
                countEl.textContent = visibleRows;
            }
        }

        // Reports Functions
        function showReportSection(sectionName) {
            // Hide all report sections
            document.querySelectorAll('.report-section').forEach(section => {
                section.style.display = 'none';
            });

            // Show selected section
            const selectedSection = document.getElementById(sectionName + '-report');
            if (selectedSection) {
                selectedSection.style.display = 'block';
            }

            // Update active report card
            document.querySelectorAll('.report-card').forEach(card => {
                card.style.borderColor = '#e2e8f0';
            });
        }

        function generateReport() {
            const startDate = document.getElementById('reportStartDate').value;
            const endDate = document.getElementById('reportEndDate').value;
            alert('In Flutter: Generating report for date range: ' + (startDate || 'All time') + ' to ' + (endDate || 'Today') + '\n\nThis would:\n- Fetch data from database\n- Calculate statistics\n- Generate visualizations\n- Display results');
        }

        function exportReport(reportType, format) {
            alert('In Flutter: Exporting ' + reportType + ' report as ' + format.toUpperCase() + '\n\nThis would:\n- Generate ' + format.toUpperCase() + ' file\n- Include all current filters\n- Download to user\'s device');
        }

        // Form Configuration Functions
        function addField(fieldType) {
            alert('In Flutter: Adding ' + fieldType + ' field to the form builder.\n\nThis would:\n- Add field to current section\n- Open field configuration modal\n- Allow drag & drop reordering');
        }

        function editField(button) {
            document.getElementById('fieldConfigModal').style.display = 'flex';
        }

        function deleteField(button) {
            if (confirm('Are you sure you want to delete this field?')) {
                button.closest('div[style*="margin-bottom"]').remove();
            }
        }

        function switchFormSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.form-builder-section').forEach(section => {
                section.style.display = 'none';
            });

            // Show selected section
            const selectedSection = document.getElementById(sectionName + '-section');
            if (selectedSection) {
                selectedSection.style.display = 'block';
            }

            // Update active tab
            document.querySelectorAll('.form-section-tab').forEach(tab => {
                tab.classList.remove('active');
                tab.style.borderBottomColor = 'transparent';
                tab.style.color = '#64748b';
            });
            const activeTab = event?.target || document.querySelector(`[onclick*="${sectionName}"]`);
            if (activeTab) {
                activeTab.classList.add('active');
                activeTab.style.borderBottomColor = '#3b82f6';
                activeTab.style.color = '#3b82f6';
            }
        }

        function saveFormConfig() {
            alert('In Flutter: Saving form configuration.\n\nThis would:\n- Save all field configurations\n- Store form structure\n- Create draft version');
        }

        function publishFormVersion() {
            if (confirm('Publishing will make this version active. Continue?')) {
                alert('In Flutter: Publishing form version.\n\nThis would:\n- Create new version\n- Archive previous version\n- Make new version active for submissions');
            }
        }

        function previewForm() {
            alert('In Flutter: Opening form preview.\n\nThis would:\n- Show form as applicants would see it\n- Allow testing of validation rules\n- Display responsive layout');
        }

        function clearForm() {
            if (confirm('Are you sure you want to clear all fields? This cannot be undone.')) {
                document.getElementById('formBuilderCanvas').innerHTML = '<div style="text-align: center; padding: 40px; color: #94a3b8;">Form cleared. Add fields to start building.</div>';
            }
        }

        function saveFieldConfig() {
            alert('In Flutter: Saving field configuration.\n\nThis would:\n- Save field properties\n- Apply validation rules\n- Update form preview');
            closeFieldConfig();
        }

        function closeFieldConfig() {
            document.getElementById('fieldConfigModal').style.display = 'none';
        }

        // New Application Functions
        let currentApplicationStep = 1;

        function goToStep(stepNumber) {
            if (stepNumber < 1 || stepNumber > 5) return;
            
            // Hide all steps
            document.querySelectorAll('.application-step').forEach(step => {
                step.style.display = 'none';
            });

            // Show selected step
            const stepEl = document.getElementById('application-step-' + stepNumber);
            if (stepEl) {
                stepEl.style.display = 'block';
                currentApplicationStep = stepNumber;
                updateProgressIndicator(stepNumber);
            }
        }

        function nextStep(stepNumber) {
            if (stepNumber > 5) return;
            goToStep(stepNumber);
        }

        function previousStep(stepNumber) {
            if (stepNumber < 1) return;
            goToStep(stepNumber);
        }

        function updateProgressIndicator(currentStep) {
            // Update progress indicators for all steps
            for (let i = 1; i <= 5; i++) {
                const stepCircle = document.getElementById('progress-step-' + i);
                const stepLabel = document.getElementById('progress-label-' + i);
                
                if (!stepCircle) continue;
                
                if (i < currentStep) {
                    // Completed step - green
                    stepCircle.style.background = '#10b981';
                    stepCircle.style.color = 'white';
                    if (stepLabel) {
                        stepLabel.style.color = '#10b981';
                        stepLabel.style.fontWeight = '600';
                    }
                } else if (i === currentStep) {
                    // Current step - blue
                    stepCircle.style.background = '#3b82f6';
                    stepCircle.style.color = 'white';
                    if (stepLabel) {
                        stepLabel.style.color = '#3b82f6';
                        stepLabel.style.fontWeight = '600';
                    }
                } else {
                    // Future step - gray
                    stepCircle.style.background = '#e2e8f0';
                    stepCircle.style.color = '#64748b';
                    if (stepLabel) {
                        stepLabel.style.color = '#64748b';
                        stepLabel.style.fontWeight = '500';
                    }
                }
            }
        }

        function saveDraft() {
            alert('In Flutter: Saving application as draft.\n\nThis would:\n- Save all entered data\n- Allow resuming later\n- Not submit the application');
        }

        function addRepresentative() {
            // Placeholder function for adding another representative
            // Currently disabled in the UI
            alert('Add Another Representative feature will be available in the full implementation.');
        }

        function submitApplication() {
            if (confirm('Are you sure you want to submit this application? You will not be able to edit it after submission.')) {
                alert('In Flutter: Submitting application.\n\nThis would:\n- Validate all required fields\n- Upload all documents\n- Generate IRTA reference number\n- Lock the application\n- Send confirmation email');
            }
        }

        function exitApplication() {
            if (confirm('Are you sure you want to exit? Any unsaved changes will be lost.')) {
                showPage('applicant-dashboard');
            }
        }

        function addVehicle() {
            alert('In Flutter: Opening vehicle form.\n\nThis would:\n- Show vehicle details form\n- Allow adding multiple vehicles\n- Upload vehicle documents');
        }

        function swapOriginDestination() {
            const originSelect = document.getElementById('transportOrigin');
            const destinationSelect = document.getElementById('transportDestination');
            
            if (originSelect && destinationSelect) {
                const originValue = originSelect.value;
                const destinationValue = destinationSelect.value;
                
                // Swap the values
                originSelect.value = destinationValue;
                destinationSelect.value = originValue;
                
                // Trigger change event to ensure any listeners are notified
                originSelect.dispatchEvent(new Event('change'));
                destinationSelect.dispatchEvent(new Event('change'));
            }
        }

        // Vehicle Approval Functions
        function updateVehicleRowCount() {
            const vehiclePage = document.getElementById('vehicle-approval-page');
            if (vehiclePage) {
                const visibleRows = vehiclePage.querySelectorAll('tbody tr[style=""], tbody tr:not([style])').length;
                const countEl = document.getElementById('vehicleRowCount');
                if (countEl) {
                    countEl.textContent = visibleRows;
                }
            }
        }

        function setupVehicleFilters() {
            const statusFilter = document.getElementById('vehicleStatusFilter');
            const typeFilter = document.getElementById('vehicleTypeFilter');
            const vehiclePage = document.getElementById('vehicle-approval-page');
            
            if (!vehiclePage) return;

            function filterVehicles() {
                const statusValue = statusFilter ? statusFilter.value : '';
                const typeValue = typeFilter ? typeFilter.value : '';
                
                const rows = vehiclePage.querySelectorAll('tbody tr');
                
                rows.forEach(row => {
                    const rowStatus = row.getAttribute('data-status') || '';
                    const rowType = row.getAttribute('data-type') || '';
                    
                    const statusMatch = !statusValue || rowStatus === statusValue;
                    const typeMatch = !typeValue || rowType === typeValue;
                    
                    if (statusMatch && typeMatch) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
                
                updateVehicleRowCount();
            }

            if (statusFilter) {
                statusFilter.addEventListener('change', filterVehicles);
            }
            if (typeFilter) {
                typeFilter.addEventListener('change', filterVehicles);
            }
        }

        // Database Backup & Restore Functions
        function createBackup() {
            if (confirm('This will create a backup of the entire database. This may take several minutes. Continue?')) {
                alert('In Flutter: Creating database backup.\n\nThis would:\n- Export all tables and data\n- Compress if selected\n- Save to backup directory\n- Log the backup operation');
            }
        }

        function scheduleBackup() {
            alert('In Flutter: Opening backup scheduler.\n\nThis would:\n- Allow setting automatic backup schedule\n- Configure backup retention policy\n- Set backup location');
        }

        function restoreBackup() {
            const confirmCheckbox = document.getElementById('restoreConfirm');
            if (!confirmCheckbox || !confirmCheckbox.checked) {
                alert('Please confirm that you understand this will overwrite existing data.');
                return;
            }
            
            if (confirm('WARNING: This will overwrite all existing database data with the backup. This action cannot be undone. Are you absolutely sure?')) {
                alert('In Flutter: Restoring from backup.\n\nThis would:\n- Validate backup file\n- Create current state backup\n- Restore from selected backup\n- Verify data integrity\n- Log the restore operation');
            }
        }

        function previewBackup() {
            alert('In Flutter: Opening backup preview.\n\nThis would:\n- Show backup file contents\n- Display table list and record counts\n- Show backup metadata\n- Allow verification before restore');
        }

        // Enable/disable restore button based on checkbox
        document.addEventListener('DOMContentLoaded', function() {
            const restoreConfirm = document.getElementById('restoreConfirm');
            const restoreBtn = document.getElementById('restoreBtn');
            if (restoreConfirm && restoreBtn) {
                restoreConfirm.addEventListener('change', function() {
                    restoreBtn.disabled = !this.checked;
                });
            }
        });

        // System Logs Functions
        function updateLogRowCount() {
            const logsPage = document.getElementById('system-logs-page');
            if (logsPage) {
                const visibleRows = logsPage.querySelectorAll('tbody tr[style=""], tbody tr:not([style])').length;
                const countEl = document.getElementById('logRowCount');
                if (countEl) {
                    countEl.textContent = visibleRows;
                }
            }
        }

        function setupLogFilters() {
            const levelFilter = document.getElementById('logLevelFilter');
            const typeFilter = document.getElementById('logTypeFilter');
            const logsPage = document.getElementById('system-logs-page');
            
            if (!logsPage) return;

            function filterLogs() {
                const levelValue = levelFilter ? levelFilter.value : '';
                const typeValue = typeFilter ? typeFilter.value : '';
                
                const rows = logsPage.querySelectorAll('tbody tr');
                
                rows.forEach(row => {
                    const rowLevel = row.getAttribute('data-level') || '';
                    const rowType = row.getAttribute('data-type') || '';
                    
                    const levelMatch = !levelValue || rowLevel === levelValue;
                    const typeMatch = !typeValue || rowType === typeValue;
                    
                    if (levelMatch && typeMatch) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
                
                updateLogRowCount();
            }

            if (levelFilter) {
                levelFilter.addEventListener('change', filterLogs);
            }
            if (typeFilter) {
                typeFilter.addEventListener('change', filterLogs);
            }
        }

        let currentVehiclePlate = '';

        function viewVehicle(plateNumber) {
            currentVehiclePlate = plateNumber;
            // Get vehicle data (in real app, this would come from API)
            const vehicleData = getVehicleData(plateNumber);
            
            const modal = document.getElementById('vehicleModal');
            const modalBody = document.getElementById('vehicleModalBody');
            const modalTitle = document.getElementById('vehicleModalTitle');
            const approveBtn = document.getElementById('vehicleApproveBtn');
            const rejectBtn = document.getElementById('vehicleRejectBtn');
            
            modalTitle.textContent = `Vehicle Review: ${plateNumber}`;
            modalBody.innerHTML = generateVehicleDetailHTML(vehicleData);
            
            // Show/hide action buttons based on status
            if (vehicleData.status === 'Pending') {
                if (approveBtn) approveBtn.style.display = 'inline-block';
                if (rejectBtn) rejectBtn.style.display = 'inline-block';
            } else {
                if (approveBtn) approveBtn.style.display = 'none';
                if (rejectBtn) rejectBtn.style.display = 'none';
            }
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function getCurrentVehiclePlate() {
            return currentVehiclePlate;
        }

        function getVehicleData(plateNumber) {
            // Sample data - in real app, this would come from API
            const vehicles = {
                'gab6862': {
                    plateNumber: 'gab6862',
                    irtaRef: 'IRTA-2024-001234',
                    vehicleType: 'Bus',
                    make: 'VW',
                    model: '1999',
                    year: '1999',
                    bodyType: 'Bus',
                    chassisNumber: 'WVWZZZ1JZ2W386752',
                    axles: '2',
                    mtc: '15.5',
                    nwc: '12.0',
                    tareWeight: '3.5',
                    owner: 'ABC Transport Co.',
                    submittedDate: '2024-01-15 10:30 AM',
                    status: 'Pending',
                    reviewer: null,
                    documents: {
                        registration: { name: 'registration_gab6862.pdf', uploaded: true },
                        revenueLicence: { name: 'revenue_gab6862.pdf', uploaded: true },
                        fitness: { name: 'fitness_gab6862.pdf', uploaded: true },
                        insurance: { name: 'insurance_gab6862.pdf', uploaded: true }
                    }
                },
                'gab7891': {
                    plateNumber: 'gab7891',
                    irtaRef: 'IRTA-2024-001235',
                    vehicleType: 'Truck',
                    make: 'Mercedes',
                    model: '2020',
                    year: '2020',
                    bodyType: 'Flatbed',
                    chassisNumber: 'WDC1660241A123456',
                    axles: '3',
                    mtc: '25.0',
                    nwc: '20.0',
                    tareWeight: '5.0',
                    owner: 'XYZ Logistics Ltd.',
                    submittedDate: '2024-01-14 2:15 PM',
                    status: 'Approved',
                    reviewer: 'John Doe',
                    reviewDate: '2024-01-14 3:45 PM',
                    documents: {
                        registration: { name: 'registration_gab7891.pdf', uploaded: true },
                        revenueLicence: { name: 'revenue_gab7891.pdf', uploaded: true },
                        fitness: { name: 'fitness_gab7891.pdf', uploaded: true },
                        insurance: { name: 'insurance_gab7891.pdf', uploaded: true }
                    }
                }
            };
            
            return vehicles[plateNumber] || {
                plateNumber: plateNumber,
                irtaRef: 'IRTA-2024-XXXXXX',
                vehicleType: 'Unknown',
                make: 'Unknown',
                model: 'Unknown',
                year: 'Unknown',
                status: 'Pending',
                documents: {}
            };
        }

        function generateVehicleDetailHTML(data) {
            return `
                <div style="padding: 24px;">
                    <div style="margin-bottom: 32px;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                            <div>
                                <div style="font-size: 24px; font-weight: 600; color: #1e293b; margin-bottom: 8px;">${data.vehicleType}  ${data.make} ${data.model}</div>
                                <div style="color: #64748b; font-size: 14px;">Plate Number: <strong>${data.plateNumber}</strong> | IRTA Ref: ${data.irtaRef}</div>
                            </div>
                            <span class="status-badge status-${data.status.toLowerCase()}">${data.status}</span>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"></path>
                            </svg>
                            Vehicle Information
                        </div>
                        <div class="form-grid">
                            <div class="form-field">
                                <div class="field-label">Owner/Company</div>
                                <div class="field-value">${data.owner || 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Vehicle Type</div>
                                <div class="field-value">${data.vehicleType}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Year</div>
                                <div class="field-value">${data.year}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Make</div>
                                <div class="field-value">${data.make}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Body Type</div>
                                <div class="field-value">${data.bodyType || 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Chassis Number</div>
                                <div class="field-value">${data.chassisNumber || 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Axles / Eixos</div>
                                <div class="field-value">${data.axles || 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">MTC (Maximum Total Capacity) / CMT</div>
                                <div class="field-value">${data.mtc ? data.mtc + ' tons' : 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">NWC (Net Weight Capacity) / CCU</div>
                                <div class="field-value">${data.nwc ? data.nwc + ' tons' : 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Tare Weight / TARA</div>
                                <div class="field-value">${data.tareWeight ? data.tareWeight + ' tons' : 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Plate Number / Placa</div>
                                <div class="field-value"><strong>${data.plateNumber}</strong></div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Submitted Date</div>
                                <div class="field-value">${data.submittedDate || 'N/A'}</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                            Vehicle Documents
                        </div>
                        <div style="display: grid; gap: 12px;">
                            <div style="border: 1px solid #e2e8f0; border-radius: 8px; padding: 16px; background: ${data.documents.registration && data.documents.registration.uploaded ? '#f0fdf4' : '#fef2f2'};">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">1. Vehicle Registration Certificate</div>
                                        <div style="color: #64748b; font-size: 13px;">
                                            ${data.documents.registration && data.documents.registration.uploaded ? 
                                                `<span style="color: #10b981;"> ${data.documents.registration.name}</span>` : 
                                                '<span style="color: #ef4444;"> Not uploaded</span>'}
                                        </div>
                                    </div>
                                    ${data.documents.registration && data.documents.registration.uploaded ? 
                                        '<button class="btn-secondary" style="padding: 6px 12px; font-size: 12px;">Download</button>' : 
                                        ''}
                                </div>
                            </div>
                            <div style="border: 1px solid #e2e8f0; border-radius: 8px; padding: 16px; background: ${data.documents.revenueLicence && data.documents.revenueLicence.uploaded ? '#f0fdf4' : '#fef2f2'};">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">2. Revenue Licence</div>
                                        <div style="color: #64748b; font-size: 13px;">
                                            ${data.documents.revenueLicence && data.documents.revenueLicence.uploaded ? 
                                                `<span style="color: #10b981;"> ${data.documents.revenueLicence.name}</span>` : 
                                                '<span style="color: #ef4444;"> Not uploaded</span>'}
                                        </div>
                                    </div>
                                    ${data.documents.revenueLicence && data.documents.revenueLicence.uploaded ? 
                                        '<button class="btn-secondary" style="padding: 6px 12px; font-size: 12px;">Download</button>' : 
                                        ''}
                                </div>
                            </div>
                            <div style="border: 1px solid #e2e8f0; border-radius: 8px; padding: 16px; background: ${data.documents.fitness && data.documents.fitness.uploaded ? '#f0fdf4' : '#fef2f2'};">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">3. Certificate of Fitness</div>
                                        <div style="color: #64748b; font-size: 13px;">
                                            ${data.documents.fitness && data.documents.fitness.uploaded ? 
                                                `<span style="color: #10b981;"> ${data.documents.fitness.name}</span>` : 
                                                '<span style="color: #ef4444;"> Not uploaded</span>'}
                                        </div>
                                    </div>
                                    ${data.documents.fitness && data.documents.fitness.uploaded ? 
                                        '<button class="btn-secondary" style="padding: 6px 12px; font-size: 12px;">Download</button>' : 
                                        ''}
                                </div>
                            </div>
                            <div style="border: 1px solid #e2e8f0; border-radius: 8px; padding: 16px; background: ${data.documents.insurance && data.documents.insurance.uploaded ? '#f0fdf4' : '#fef2f2'};">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">4. Third Party Insurance</div>
                                        <div style="color: #64748b; font-size: 13px;">
                                            ${data.documents.insurance && data.documents.insurance.uploaded ? 
                                                `<span style="color: #10b981;"> ${data.documents.insurance.name}</span>` : 
                                                '<span style="color: #ef4444;"> Not uploaded</span>'}
                                        </div>
                                    </div>
                                    ${data.documents.insurance && data.documents.insurance.uploaded ? 
                                        '<button class="btn-secondary" style="padding: 6px 12px; font-size: 12px;">Download</button>' : 
                                        ''}
                                </div>
                            </div>
                        </div>
                    </div>

                    ${data.status === 'Pending' ? `
                    <div class="form-section">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                            </svg>
                            Review Comments
                        </div>
                        <div style="margin-bottom: 16px;">
                            <textarea id="vehicleReviewComments" placeholder="Enter review comments or notes..." style="width: 100%; min-height: 100px; padding: 12px; border: 1px solid #e2e8f0; border-radius: 6px; font-family: inherit; resize: vertical;"></textarea>
                        </div>
                    </div>
                    ` : data.reviewer ? `
                    <div class="form-section">
                        <div class="section-title">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Review Information
                        </div>
                        <div class="form-grid">
                            <div class="form-field">
                                <div class="field-label">Reviewed By</div>
                                <div class="field-value">${data.reviewer}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Review Date</div>
                                <div class="field-value">${data.reviewDate || 'N/A'}</div>
                            </div>
                            <div class="form-field">
                                <div class="field-label">Status</div>
                                <div class="field-value"><span class="status-badge status-${data.status.toLowerCase()}">${data.status}</span></div>
                            </div>
                        </div>
                    </div>
                    ` : ''}
                </div>
            `;
        }

        function closeVehicleModal() {
            const modal = document.getElementById('vehicleModal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        function approveVehicle(plateNumber) {
            const comments = document.getElementById('vehicleReviewComments')?.value || '';
            if (confirm('Are you sure you want to approve this vehicle?')) {
                alert('In Flutter: Vehicle ' + plateNumber + ' would be approved.\n\nThis would:\n- Update vehicle status to Approved\n- Save review comments\n- Notify applicant\n- Update vehicle approval queue');
                closeVehicleModal();
            }
        }

        function rejectVehicle(plateNumber) {
            const comments = document.getElementById('vehicleReviewComments')?.value || '';
            if (!comments.trim()) {
                alert('Please provide review comments before rejecting.');
                document.getElementById('vehicleReviewComments')?.focus();
                return;
            }
            if (confirm('Are you sure you want to reject this vehicle? This action cannot be undone.')) {
                alert('In Flutter: Vehicle ' + plateNumber + ' would be rejected.\n\nThis would:\n- Update vehicle status to Rejected\n- Save review comments\n- Notify applicant with rejection reason\n- Update vehicle approval queue');
                closeVehicleModal();
            }
        }

        // Tab switching for Roles & Permissions
        function switchTab(tabName, element) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });

            // Show selected tab
            const selectedTab = document.getElementById(tabName + '-tab');
            if (selectedTab) {
                selectedTab.style.display = 'block';
            }

            // Update active tab button
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            if (element) {
                element.classList.add('active');
            }
        }
    </script>
</body>
</html>

